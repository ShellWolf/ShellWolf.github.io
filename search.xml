<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>BEM</title>
    <url>/2019/03/01/bem/</url>
    <content><![CDATA[<h3 id="å£°æ˜"><a href="#å£°æ˜" class="headerlink" title="å£°æ˜"></a>å£°æ˜</h3><div class="note info"><p>åŸå§‹ä»£ç å‡ºè‡ªvantç»„ä»¶åº“ã€‚ æœ€æ–°ä»£ç ï¼Œ<a href="https://github.com/youzan/vant/blob/dev/packages/utils/use/bem.ts" target="_blank" rel="noopener">ç‚¹å‡»è¿™é‡Œ</a></p></div>
<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå½“æˆ‘ä»¬éœ€è¦è¦†ç›–æŸäº›å¼€æºç»„ä»¶åº“æ ·å¼çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šå‘ç°ä¼šæœ‰ä¸€äº›å¥‡æ€ªçš„CSSå‘½åæ–¹å¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">// ä»¥ä¸‹æ˜¯CSSç±»å</span><br><span class="line"><span class="selector-class">.xx__xx</span></span><br><span class="line"><span class="selector-class">.xx__xx--xx</span></span><br><span class="line"><span class="selector-class">.xx--xx</span></span><br></pre></td></tr></table></figure>
<p>ä¸ºäº†ææ¸…æ¥šè¿™ç§è§„åˆ™ï¼Œé€šè¿‡æŸ¥é˜…äº†è§£åˆ°è¿™æ˜¯ä¸€ç§å«åš <code>BEM</code>çš„å‘½åæ–¹æ³•ã€‚ä¸‹é¢æˆ‘å°±æ¥äº†è§£ä¸‹è¿™ä¸ªé«˜å¤§ä¸Šçš„ä¸œè¥¿ï¼š</p>
<p><strong><em>BEMæ˜¯ä¸€ç§æ–¹æ³•ï¼Œå¯å¸®åŠ©æˆ‘ä»¬åœ¨å‰ç«¯å¼€å‘ä¸­åˆ›å»ºå¯é‡ç”¨çš„ç»„ä»¶å’Œä»£ç å…±äº«</em></strong></p>
<p>æ›´å¤šä¸­æ–‡è§£é‡Šè§ <a href="https://www.cnblogs.com/dujishi/p/5862911.html" target="_blank" rel="noopener">https://www.cnblogs.com/dujishi/p/5862911.html</a><br>æ›´å…¨é¢è¯¦ç»†çš„è§£é‡Šä¸‹ <a href="http://getbem.com" target="_blank" rel="noopener">http://getbem.com</a></p>
<p>é€šè¿‡é˜…è¯»ä¸Šè¿°æ–‡ç« ï¼Œå¯çŸ¥BEMå‘½åæ˜¯å¾ˆé‡è¦çš„ä¸€ç§è§„èŒƒï¼Œä½†æ˜¯çº¯æ‰‹å†™èµ·æ¥ï¼Œä¼šæœ‰ä¸€äº›ç¹çï¼Œä¸ºäº†å°†è¿™äº›è§„åˆ™æ›´å¥½çš„å’Œvueç»„ä»¶çš„HTML Classç»‘å®šç›¸äº’ç»“åˆï¼Œåšå¦‚ä¸‹å°è£…ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * bem helper</span></span><br><span class="line"><span class="comment"> * bå‡½æ•°å†…éƒ¨ï¼Œé»˜è®¤å–å½“å‰ç»„ä»¶åç§°åšé»˜è®¤ç±»åï¼Œå¦‚ä¸‹ï¼Œä»¥'button'ä¸ºä¾‹</span></span><br><span class="line"><span class="comment"> * b() // 'button'</span></span><br><span class="line"><span class="comment"> * b('text') // 'button__text'</span></span><br><span class="line"><span class="comment"> * b(&#123; disabled &#125;) // 'button button--disabled'</span></span><br><span class="line"><span class="comment"> * b('text', &#123; disabled &#125;) // 'button__text button__text--disabled'</span></span><br><span class="line"><span class="comment"> * b(['disabled', 'primary']) // 'button button--disabled button--primary'</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ELEMENT = <span class="string">'__'</span></span><br><span class="line"><span class="keyword">const</span> MODS = <span class="string">'--'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> join = <span class="function">(<span class="params">name, el, symbol</span>) =&gt;</span> el ? name + symbol + el : name</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> prefix = <span class="function">(<span class="params">name, mods</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> mods === <span class="string">'string'</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> join(name, mods, MODS)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ•°ç»„è¯­æ³•ï¼Œä¼ é€’ä¸€ä¸ªæ•°ç»„</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(mods)) &#123;</span><br><span class="line">    <span class="keyword">return</span> mods.map(<span class="function"><span class="params">item</span> =&gt;</span> prefix(name, item))</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å¯¹è±¡è¯­æ³•ï¼Œä¼ é€’å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">const</span> ret = &#123;&#125;</span><br><span class="line">  <span class="built_in">Object</span>.keys(mods).forEach(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">    ret[name + MODS + key] = mods[key]</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  methods: &#123;</span><br><span class="line">    b (el, mods) &#123;</span><br><span class="line">      <span class="comment">// è·å–ç»„ä»¶åç§°</span></span><br><span class="line">      <span class="keyword">const</span> &#123; name &#125; = <span class="keyword">this</span>.$options</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (el &amp;&amp; <span class="keyword">typeof</span> el !== <span class="string">'string'</span>) &#123;</span><br><span class="line">        mods = el</span><br><span class="line">        el = <span class="string">''</span></span><br><span class="line">      &#125;</span><br><span class="line">      el = join(name, el, ELEMENT)</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> mods ? [el, prefix(el, mods)] : el</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å°† <code>b</code> (bemçš„ç®€å†™) æ–¹æ³•æ··å…¥åˆ°ç»„ä»¶ä¸­åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥åœ¨HTMLæ¨¡æ¿ä¸­ä½¿ç”¨å®ƒï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">:class</span>=<span class="string">"b([type])"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">:class</span>=<span class="string">"[b('wrapper', &#123; scrollable &#125;), &#123;'thinline--bottom': type=== 'line'&#125;]"</span>&gt;</span></span><br><span class="line">      ...</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">expot <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  name: <span class="string">'tabs'</span>,</span></span><br><span class="line">  data() &#123;</span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">      type: <span class="string">'line'</span>,</span></span><br><span class="line"><span class="javascript">      scrollable: <span class="literal">true</span>,</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸Šæ‰€ç¤ºä»£ç ï¼Œå°†æ¸²æŸ“å‡ºå¦‚ä¸‹ç±»åï¼š<br><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.tabs--line</span></span><br><span class="line"><span class="selector-class">.tabs__wrapper</span></span><br><span class="line"><span class="selector-class">.tabs__wrapper--scrollable</span></span><br><span class="line"><span class="selector-class">.thinline--bottom</span></span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>ä¸Šè¿°ä»£ç å¯ä»¥ç›´æ¥æ‹·è´ä½¿ç”¨ï¼Œå¯ä»¥åœ¨Vueé¡¹ç›®ä¸­å®é™…ç”¨èµ·æ¥çœ‹ä¸‹æ•ˆæœå•¦ã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>Vue</category>
        <category>BEM</category>
      </categories>
      <tags>
        <tag>Bem</tag>
        <tag>CSS</tag>
        <tag>Mixin</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½ çœŸçš„æ‡‚ border-radius äº†å—ï¼Ÿ</title>
    <url>/2019/03/08/border-radius/</url>
    <content><![CDATA[<h3 id="å£°æ˜"><a href="#å£°æ˜" class="headerlink" title="å£°æ˜"></a>å£°æ˜</h3><p>ä»¥ä¸‹çš„æˆªå›¾æ–‡å­—è¯´æ˜ï¼Œæ¥æºäº &lt;&lt;CSSæ­ç§˜&gt;&gt; æ–‡ç« çš„ç‰‡æ®µ</p>
<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ <code>border-radius</code> å±æ€§æ˜¯ä¸€ä¸ªéå¸¸å¸¸ç”¨å’Œç®€å•çš„å±æ€§ï¼Œä½†æ˜¯ä»–æœ‰ä¸€ä¸ªé²œä¸ºäººçŸ¥çš„çœŸç›¸:å®ƒå¯ä»¥å•ç‹¬æŒ‡å®šæ°´å¹³ å’Œå‚ç›´åŠå¾„ï¼Œåªè¦ç”¨ä¸€ä¸ªæ–œæ (/)åˆ†éš”è¿™ä¸¤ä¸ªå€¼å³å¯</p>
<h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><h4 id="ä¸ºä»€ä¹ˆå«-border-radius"><a href="#ä¸ºä»€ä¹ˆå«-border-radius" class="headerlink" title="ä¸ºä»€ä¹ˆå« border-radius?"></a>ä¸ºä»€ä¹ˆå« border-radius?</h4><p><img src="/images/border-radius1.png" alt="border-radius-explain"></p>
<h4 id="border-radius-çš„æ›´å¤šç”¨æ³•"><a href="#border-radius-çš„æ›´å¤šç”¨æ³•" class="headerlink" title="border-radius çš„æ›´å¤šç”¨æ³•"></a>border-radius çš„æ›´å¤šç”¨æ³•</h4><p><img src="/images/border-radius2.png" alt="border-radius"></p>
<p><strong><em>ä¸‹é¢è¿˜æœ‰ä¸€ä¸ªå›¾å½¢åŒ–çš„è§£é‡Šï¼Œç»“åˆä¸Šé¢çš„æ–‡ç« æˆªå›¾ç†è§£ï¼š</em></strong></p>
<p><img src="/images/border-radius3.png" alt="border-radius1"></p>
<h4 id="åœ¨çº¿æµ‹è¯•DEMO"><a href="#åœ¨çº¿æµ‹è¯•DEMO" class="headerlink" title="åœ¨çº¿æµ‹è¯•DEMO"></a>åœ¨çº¿æµ‹è¯•DEMO</h4><p><a href="https://codepen.io/shellWolf/pen/MxpEGb?editors=1100" target="_blank" rel="noopener">https://codepen.io/shellWolf/pen/MxpEGb?editors=1100</a></p>
]]></content>
      <categories>
        <category>CSS3</category>
      </categories>
      <tags>
        <tag>border-radius</tag>
      </tags>
  </entry>
  <entry>
    <title>Button æŒ‰é’®ç»„ä»¶</title>
    <url>/2019/03/04/button/</url>
    <content><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œbuttonç»„ä»¶æ˜¯ä½¿ç”¨é¢‘ç‡æ¯”è¾ƒé«˜çš„ç»„ä»¶ï¼ŒåŸç”Ÿçš„HTML buttonæ ‡ç­¾åªèƒ½æ»¡è¶³ä¸€éƒ¨åˆ†çš„ä½¿ç”¨åœºæ™¯ï¼Œæ‰€ä»¥éœ€è¦å¯¹buttonæ ‡ç­¾è¿›è¡ŒäºŒæ¬¡å°è£…ï¼Œæ¥æ»¡è¶³æ›´å¤šçš„åœºæ™¯ã€‚</p>
<h3 id="è®¾è®¡"><a href="#è®¾è®¡" class="headerlink" title="è®¾è®¡"></a>è®¾è®¡</h3><p>å¯¹äºä¸€ä¸ªbuttonç»„ä»¶ï¼Œæˆ‘ä»¬å¯¹å®ƒåšå¦‚ä¸‹è®¾è®¡ï¼š</p>
<ol>
<li>ä¿ç•™åŸç”ŸHTML buttonæ ‡ç­¾çš„éƒ¨åˆ†ç‰¹æ€§ ï¼ˆå¦‚ï¼štype, disabledç­‰ï¼‰</li>
<li>é€šè¿‡ä¼ å…¥type propï¼Œæ¥å±•ç¤ºä¸åŒç±»å‹çš„button</li>
<li>é€šè¿‡ä¼ å…¥loading propï¼Œæ¥æ§åˆ¶buttonçš„åŠ è½½æ•ˆæœ</li>
<li>é€šè¿‡ä¼ å…¥icon propï¼Œå®ç°buttonå’Œiconçš„ç»“åˆ</li>
<li>é€šè¿‡ä¼ å…¥ripple propï¼Œå®ç°æ°´æ³¢çº¹çš„ç‚¹å‡»æ•ˆæœ</li>
<li>é€šè¿‡ä¼ å…¥block propï¼Œæ¥æ§åˆ¶buttonçš„å®½åº¦æ˜¯å¦ç»§æ‰¿çˆ¶å®¹å™¨å®½åº¦</li>
<li>æä¾›è‡ªå®šä¹‰çš„clickäº‹ä»¶ï¼Œæ¥å“åº”ç”¨æˆ·çš„ç‚¹å‡»</li>
</ol>
<p>å…·ä½“è®¾è®¡å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="/images/button.png" alt="button"></p>
<h3 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h3><p>ç»„ä»¶ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;button</span><br><span class="line">    :<span class="class"><span class="keyword">class</span></span>=<span class="string">"[</span></span><br><span class="line"><span class="string">      b([type, size, &#123;</span></span><br><span class="line"><span class="string">        loading,</span></span><br><span class="line"><span class="string">        icon,</span></span><br><span class="line"><span class="string">        block,</span></span><br><span class="line"><span class="string">        ripple</span></span><br><span class="line"><span class="string">    &#125;])]"</span></span><br><span class="line">    :disabled=<span class="string">"disabled"</span></span><br><span class="line">    :type=<span class="string">"htmlType"</span></span><br><span class="line">    @click=<span class="string">"handleClick"</span></span><br><span class="line">  &gt;</span><br><span class="line">    &lt;spin v-<span class="keyword">if</span>=<span class="string">"loading"</span> size=<span class="string">"16px"</span>/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;ripple v-<span class="keyword">if</span>=<span class="string">"ripple &amp;&amp; !loading &amp;&amp; !disabled"</span> :ripple-opacity=<span class="string">"rippleOpacity"</span> :ripple-color=<span class="string">"rippleColor"</span>/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;slot name=<span class="string">"icon"</span>&gt;</span><br><span class="line">      &lt;icon v-<span class="keyword">if</span>=<span class="string">"icon"</span> :name=<span class="string">"icon"</span> /&gt;</span><br><span class="line">    &lt;<span class="regexp">/slot&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    &lt;slot/</span>&gt;</span><br><span class="line">  &lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> Spin <span class="keyword">from</span> <span class="string">'../spin'</span></span><br><span class="line"><span class="keyword">import</span> Ripple <span class="keyword">from</span> <span class="string">'../ripple'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">'button'</span>,</span><br><span class="line">  components: &#123;</span><br><span class="line">    Ripple,</span><br><span class="line">    Spin</span><br><span class="line">  &#125;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    disabled: <span class="built_in">Boolean</span>,</span><br><span class="line">    <span class="comment">// è®¾ç½® button åŸç”Ÿçš„ type å€¼</span></span><br><span class="line">    htmlType: &#123;</span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="string">'button'</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// è®¾ç½®æŒ‰é’®ç±»å‹</span></span><br><span class="line">    type: &#123;</span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="string">'default'</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    icon: <span class="built_in">String</span>,</span><br><span class="line">    loading: <span class="built_in">Boolean</span>,</span><br><span class="line">    <span class="comment">// æ”¯æŒlargeã€defaultã€smallä¸‰ç§å°ºå¯¸ï¼Œé»˜è®¤ä¸ºdefaultï¼Œ å½“ä¸ºé»˜è®¤æ—¶ä¸éœ€è¦è®¾ç½®</span></span><br><span class="line">    size: &#123;</span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="string">''</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// å¼€å¯æ°´æ³¢çº¹ç‚¹å‡»</span></span><br><span class="line">    ripple: <span class="built_in">Boolean</span>,</span><br><span class="line">    <span class="comment">// è®¾ç½®æ³¢çº¹é€æ˜åº¦</span></span><br><span class="line">    rippleOpacity: [<span class="built_in">String</span>, <span class="built_in">Number</span>],</span><br><span class="line">    <span class="comment">// è®¾ç½®æ³¢çº¹é¢œè‰²ï¼Œé»˜è®¤å–å­—ä½“é¢œè‰² ï¼ˆcurrentColorï¼‰</span></span><br><span class="line">    rippleColor: <span class="built_in">String</span>,</span><br><span class="line">    <span class="comment">// å°†æŒ‰é’®å®½åº¦è°ƒæ•´ä¸ºå…¶çˆ¶å®½åº¦çš„é€‰é¡¹</span></span><br><span class="line">    block: <span class="built_in">Boolean</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleClick (event) &#123;</span><br><span class="line">      <span class="comment">// loading å’Œ disabled çŠ¶æ€ä¸‹ä¸åšclick äº‹ä»¶å¤„ç†</span></span><br><span class="line">      <span class="keyword">if</span> (!<span class="keyword">this</span>.loading &amp;&amp; !<span class="keyword">this</span>.disabled) &#123;</span><br><span class="line">        <span class="keyword">this</span>.$emit(<span class="string">'click'</span>, event)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æç¤ºï¼šä¸åŒçš„æµè§ˆå™¨å¯¹ <code>&lt;button&gt;</code> å…ƒç´ çš„ type å±æ€§ä½¿ç”¨ä¸åŒçš„é»˜è®¤å€¼, æ‰€ä»¥æˆ‘ä»¬éœ€è¦ç»™è‡ªå®šä¹‰çš„button ç»„ä»¶çš„ htmlType å±æ€§è®¾ç½®é»˜è®¤çš„å€¼ä¸º <code>button</code></p>
</blockquote>
<p>ä»ä¸Šå¯çŸ¥buttonç»„ä»¶æä¾›äº†2ä¸ª <code>slot</code>ï¼š</p>
<ol>
<li>é»˜è®¤æ’æ§½ä¸€èˆ¬ç”¨äºæ¥æ”¶buttonç»„ä»¶çš„æ–‡æœ¬ä¼ å…¥ï¼›</li>
<li>icon æ’æ§½ï¼Œæä¾›ç»™ç”¨æˆ·æ’å…¥å›¾ç‰‡çš„é€”å¾„ï¼ˆå½“iconå›¾æ ‡ä¸èƒ½å¤Ÿå®Œå…¨æ»¡è¶³éœ€æ±‚æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä¼ å…¥å›¾ç‰‡ä»£æ›¿ï¼‰</li>
</ol>
<p>ç”±äºå®ƒæ²¡æœ‰å¤æ‚çš„é€»è¾‘ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ªè§†å›¾ç»„ä»¶ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°†é‡ç‚¹åˆ†æå®ƒçš„æ ·å¼ï¼Œå¯¹åº”çš„cssæ ·å¼(stylusè¯­æ³•)ä»£ç  å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="variable">$text</span>-<span class="attribute">color</span> = <span class="number">#4a4a4a</span></span><br><span class="line"><span class="variable">$border</span>-<span class="attribute">color</span> = <span class="number">#eee</span></span><br><span class="line"><span class="variable">$gray</span>-darker = <span class="number">#666</span></span><br><span class="line"><span class="variable">$gray</span>-dark = <span class="number">#999</span></span><br><span class="line"></span><br><span class="line">.button</span><br><span class="line">  <span class="attribute">position</span>: relative</span><br><span class="line">  <span class="attribute">display</span>: inline-block</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box</span><br><span class="line">  <span class="attribute">color</span>: <span class="variable">$text</span>-color</span><br><span class="line">  <span class="attribute">background</span>: <span class="variable">$white</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">34px</span></span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">32px</span></span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">12px</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">4px</span></span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="variable">$border</span>-color</span><br><span class="line">  <span class="attribute">box-shadow</span>: none</span><br><span class="line">  <span class="attribute">text-align</span>: center</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span></span><br><span class="line">  <span class="attribute">cursor</span>: pointer</span><br><span class="line">  <span class="attribute">outline</span>: none</span><br><span class="line">  touch-action: manipulation</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap</span><br><span class="line">  user-select: <span class="attribute">none</span></span><br><span class="line">  -webkit-appearance: <span class="attribute">none</span></span><br><span class="line">  -webkit-text-size-adjust: <span class="number">100%</span></span><br><span class="line"></span><br><span class="line">  &amp;::before</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">""</span></span><br><span class="line">    <span class="attribute">position</span>: absolute</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">1</span></span><br><span class="line">    <span class="attribute">top</span>: -<span class="number">1px</span></span><br><span class="line">    <span class="attribute">left</span>: -<span class="number">1px</span></span><br><span class="line">    <span class="attribute">bottom</span>: -<span class="number">1px</span></span><br><span class="line">    <span class="attribute">right</span>: -<span class="number">1px</span></span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span></span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span></span><br><span class="line">    <span class="attribute">border</span>: inherit</span><br><span class="line">    <span class="attribute">border-radius</span>: inherit</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="variable">$gray</span>-darker</span><br><span class="line">    <span class="attribute">pointer-events</span>: none</span><br><span class="line">    transition: opacity .3s</span><br><span class="line"></span><br><span class="line">  &amp;:active::before</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.15</span></span><br><span class="line"></span><br><span class="line">  &amp;[disabled]</span><br><span class="line">    &amp;,</span><br><span class="line">    &amp;:focus,</span><br><span class="line">    &amp;:active</span><br><span class="line">      <span class="attribute">cursor</span>: not-allowed</span><br><span class="line">      <span class="attribute">background-color</span>: <span class="variable">$border</span>-color</span><br><span class="line">      <span class="attribute">color</span>: <span class="variable">$gray</span>-dark</span><br><span class="line">      <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="variable">$border</span>-color</span><br><span class="line">      <span class="attribute">box-shadow</span>: none</span><br><span class="line">    &amp;::before,</span><br><span class="line">    &amp;:active::before</span><br><span class="line">      <span class="attribute">display</span>: none</span><br></pre></td></tr></table></figure>
<p>åˆ†æä¸Šè¿°é‡ç‚¹æ ·å¼ä»£ç ï¼š</p>
<ol>
<li>è®¾ç½® <code>-webkit-appearance: none</code> å»é™¤ button æ ‡ç­¾é»˜è®¤çš„appearanceæ ·å¼ï¼Œ<strong><em>å¸¸ç”¨äºIOSä¸‹ç§»é™¤åŸç”Ÿæ ·å¼</em></strong> </li>
<li>è®¾ç½® <code>outline: none</code>å»é™¤å¤–è¾¹çº¿æ ·å¼</li>
<li>è®¾ç½® <code>touch-action: manipulation</code> å¯å‡å°‘æµè§ˆå™¨åœ¨ç”¨æˆ·ç‚¹å‡»æ—¶å»¶è¿Ÿç”Ÿæˆç‚¹å‡»äº‹ä»¶çš„æƒ…å†µ</li>
<li>è®¾ç½® <code>white-space: nowrap</code> ç¦æ­¢ç»„ä»¶æ–‡æœ¬æ¢è¡Œ</li>
<li>è®¾ç½® <code>user-select: none</code> é˜»æ­¢buttonç»„ä»¶æ–‡æœ¬è¢«é€‰æ‹©(å¤åˆ¶)</li>
<li>è®¾ç½® <code>-webkit-text-size-adjust: 100%</code> å…³é—­å­—ä½“å¤§å°è‡ªåŠ¨è°ƒæ•´åŠŸèƒ½</li>
</ol>
<p>è¿˜éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“ç‚¹å‡»buttonç»„ä»¶æ—¶ï¼Œéœ€è¦è®¾ç½®activeçŠ¶æ€ä¸‹çš„æ ·å¼ï¼Œå¦‚æœç›´æ¥åœ¨buttonä¸Šæ”¹å˜ <code>background-color</code> æˆ–è€…å…¶å®ƒæ ·å¼çš„å€¼ï¼Œè¿™æ ·å°†ä¼šå¯¼è‡´é¢å¤–çš„ layout å’Œ paintï¼Œ å¦‚ä¸‹æ‰€ç¤ºï¼š<br><img src="/images/button-bg.png" alt="background-color trigger"></p>
<p>ä¸ºäº†èƒ½å¤Ÿè¿›è¡Œæ€§èƒ½ä¼˜åŒ–ï¼Œåšå¦‚ä¸‹è®¾è®¡ï¼š</p>
<ol>
<li>å°† button ç»„ä»¶ active çŠ¶æ€ä¸‹çš„æ ·å¼é€šè¿‡åœ¨ â€˜::beforeâ€™ ä¸Šè®¾ç½®ç»å¯¹å®šä½è¿›è¡Œè§¦å‘ï¼Œè¿™æ ·ç‚¹å‡»buttonæ—¶å°±ä¸ä¼šå½±å“åˆ°å…¶ä»–domçš„æ¸²æŸ“</li>
<li>ä¸ºäº†ä¸å½±å“buttonçš„æ­£å¸¸ç‚¹å‡»æ“ä½œï¼Œéœ€è¦åœ¨ä¼ªå…ƒç´ ä¸Šè®¾ç½® <code>pointer-events: none</code> è¿™æ ·ç‚¹å‡»äº‹ä»¶å°±ä¼šç©¿é€åˆ°çœŸæ­£åˆ°buttonå…ƒç´ ä¸Š</li>
<li>é€šè¿‡æ”¹å˜ <code>opacity</code> æ ·å¼æ¥åé¦ˆ active çŠ¶æ€</li>
<li>ä¸ºäº†åšæ›´è¿‘ä¸€æ­¥çš„ä¼˜åŒ–ï¼Œæˆ‘ä»¬é€šè¿‡è®¾ç½® <code>transition</code> æ ·å¼å°†ä¼ªå…ƒç´ æå‡ä¸ºåˆæˆå±‚ ï¼ˆ<strong><em>å…ƒç´ æå‡ä¸ºåˆæˆå±‚åï¼Œtransform å’Œ opacity æ‰ä¸ä¼šè§¦å‘ paintï¼Œå¦‚æœä¸æ˜¯åˆæˆå±‚ï¼Œåˆ™å…¶ä¾ç„¶ä¼šè§¦å‘ paint</em></strong>ï¼‰</li>
</ol>
<div class="note info"><p>æç¤ºï¼š(è¿™é‡Œæ˜¯å¼•ç”¨ justjavac å¤§ç¥çš„å›ç­”)<br>åœ¨ Blink å’Œ WebKit å†…æ ¸çš„æµè§ˆå™¨ä¸­ï¼Œå¯¹äºåº”ç”¨äº† transition æˆ–è€… animationçš„ opacity å…ƒç´ ï¼Œæµè§ˆå™¨ä¼šå°†æ¸²æŸ“å±‚æå‡ä¸ºåˆæˆå±‚ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ translateZ(0) æˆ–è€… translate3d(0,0,0) æ¥äººä¸ºåœ°å¼ºåˆ¶æ€§åœ°åˆ›å»ºä¸€ä¸ªåˆæˆå±‚ã€‚</p>
<p>å¯ä»¥é€šè¿‡ä½¿ç”¨ Chrome DevTools å·¥å…·æ¥æŸ¥çœ‹é¡µé¢ä¸­åˆæˆå±‚çš„æƒ…å†µï¼Œåœ¨ <code>Rendering</code> æ ‡ç­¾ä¸‹ï¼Œå‹¾é€‰ä¸Š Show layer borderså³å¯</p></div>
<blockquote>
<p>âœ¨<strong><em>è¯·ç‚¹å‡»æŸ¥çœ‹ <a href="http://wechat.hand-china.com/hippius-ui/#/zh-CN/button" target="_blank" rel="noopener">DEMO</a> æ•ˆæœ</em></strong></p>
</blockquote>
<p><strong><em>é™„å½• âœ¨</em></strong></p>
<ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/touch-action" target="_blank" rel="noopener">touch-action</a>ä»‹ç»</li>
<li><a href="https://www.cnblogs.com/zichi/p/9068481.html" target="_blank" rel="noopener">pointer-events</a>è¿ç”¨åœºæ™¯</li>
<li><a href="/2019/03/04/button/">Spinç»„ä»¶</a>åˆ†æ</li>
<li><a href="/2019/03/05/wave/">Rippleç»„ä»¶</a>åˆ†æ</li>
<li><a href="/2019/03/01/bem/">bå‡½æ•°</a>åˆ†æ</li>
<li><a href="https://csstriggers.com" target="_blank" rel="noopener">CSS Triggers</a> æ–‡æ¡£</li>
<li><a href="https://segmentfault.com/q/1010000008983727" target="_blank" rel="noopener">å¯¹äºæ”¹å˜opacityæ ·å¼æ—¶ï¼Œé¡µé¢æ¸²æŸ“çš„ç–‘æƒ‘</a></li>
</ul>
]]></content>
      <categories>
        <category>Vue</category>
        <category>ç»„ä»¶å¼€å‘</category>
        <category>Button</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>ç»„ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title>Collapse æŠ˜å é¢æ¿ç»„ä»¶</title>
    <url>/2019/03/13/collapse/</url>
    <content><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>æŠ˜å é¢æ¿ç»„ä»¶ç›´è§‚å±•ç¤ºï¼š</p>
<p><img src="/images/collapse.png" alt="collapse"></p>
<p>ä¸‹é¢æˆ‘ä»¬ä¸€èµ·åˆ†æå¦‚ä½•å®ç°è¿™ä¸ªç»„ä»¶</p>
<h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><ul>
<li>å¯ä»¥æŠŠç»„ä»¶æ‹†åˆ†æˆçˆ¶å®¹å™¨ï¼ˆcollapseï¼‰å’Œå­ç»„ä»¶ï¼ˆcollapse-itemï¼‰2ä¸ªï¼Œç„¶ååœ¨çˆ¶ç»„ä»¶ä¸Šä½¿ç”¨ <code>v-model</code> è¿›è¡ŒåŒå‘ç»‘å®š</li>
<li>å­ç»„ä»¶æŠ˜å æœ‰2ç§æ–¹å¼ï¼Œç¬¬ä¸€ç§æ˜¯æ™®é€šå±•å¼€æ¨¡å¼ï¼Œç¬¬äºŒç§æ˜¯accordionï¼ˆæ‰‹é£ç´ï¼‰æ¨¡å¼</li>
<li>å¯¹æŠ˜å é¡¹å†…å®¹å±•å¼€å’Œæ”¶èµ·æ—¶è¿ç”¨åŠ¨ç”»ï¼Œäº§ç”Ÿå¹³æ»‘è¿‡æ¸¡æ•ˆæœ</li>
</ul>
<h3 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h3><h4 id="Collapse-çˆ¶ç»„ä»¶"><a href="#Collapse-çˆ¶ç»„ä»¶" class="headerlink" title="Collapse çˆ¶ç»„ä»¶"></a>Collapse çˆ¶ç»„ä»¶</h4><p>æ¨¡æ¿ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;group :<span class="class"><span class="keyword">class</span></span>=<span class="string">"b()"</span>&gt;</span><br><span class="line">    &lt;slot /&gt;</span><br><span class="line">  &lt;<span class="regexp">/group&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Group <span class="keyword">from</span> <span class="string">'./group'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123;</span><br><span class="line">  name: <span class="string">'collapse'</span>,</span><br><span class="line"></span><br><span class="line">  components: &#123;</span><br><span class="line">    Group,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  props: &#123;</span><br><span class="line">    <span class="comment">// æ§åˆ¶æ‰‹é£ç´æ•ˆæœ</span></span><br><span class="line">    accordion: <span class="built_in">Boolean</span>,</span><br><span class="line">    <span class="comment">// ç”¨äºç”ŸæˆåŒå‘ç»‘å®š</span></span><br><span class="line">    value: [<span class="built_in">String</span>, <span class="built_in">Number</span>, <span class="built_in">Array</span>],</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  provide () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      Collapse: <span class="keyword">this</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  data () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      items: [],</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  methods: &#123;</span><br><span class="line">    <span class="keyword">switch</span> (name, expanded) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!<span class="keyword">this</span>.accordion) &#123;</span><br><span class="line">        name = expanded</span><br><span class="line">          ? <span class="keyword">this</span>.value.concat(name)</span><br><span class="line">          : <span class="keyword">this</span>.value.filter(<span class="function"><span class="params">activeName</span> =&gt;</span> activeName !== name)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        name = expanded</span><br><span class="line">          ? name === <span class="keyword">this</span>.value ? <span class="string">''</span> : name</span><br><span class="line">          : <span class="string">''</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">this</span>.$emit(<span class="string">'input'</span>, name)</span><br><span class="line">      <span class="keyword">this</span>.$emit(<span class="string">'change'</span>, name)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç æœ‰å‡ ç‚¹éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼š</p>
<ol>
<li>provide / inject å…è®¸ä¸€ä¸ªç¥–å…ˆç»„ä»¶å‘å…¶æ‰€æœ‰å­å­™åä»£æ³¨å…¥ä¸€ä¸ªä¾èµ–ï¼Œä¸è®ºç»„ä»¶å±‚æ¬¡æœ‰å¤šæ·±ï¼Œå¹¶åœ¨èµ·ä¸Šä¸‹æ¸¸å…³ç³»æˆç«‹çš„æ—¶é—´é‡Œå§‹ç»ˆç”Ÿæ•ˆ</li>
<li>é€šè¿‡å±æ€§ <code>value</code> å’Œ <code>switch</code> æ–¹æ³•ä¸­å‘å°„ <code>input</code> äº‹ä»¶ï¼Œè®©è‡ªå®šä¹‰ç»„ä»¶å®ç°åŒå‘ç»‘å®š</li>
<li>å½“ <code>accordion</code> å±æ€§ä¸ºçœŸæ—¶ï¼Œå±•å¼€çš„æŠ˜å é¡¹åªæœ‰ä¸€ä¸ªï¼Œè®°å½•åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­å³å¯ï¼Œå½“ä¸ºå‡æ—¶ï¼Œå¯ä»¥æœ‰å¤šä¸ªæŠ˜å é¡¹åŒæ—¶æ˜¯å±•å¼€çŠ¶æ€ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦ç”¨æ•°ç»„è®°å½•çŠ¶æ€</li>
</ol>
<h4 id="Collapse-Item-å­ç»„ä»¶"><a href="#Collapse-Item-å­ç»„ä»¶" class="headerlink" title="Collapse Item å­ç»„ä»¶"></a>Collapse Item å­ç»„ä»¶</h4><p>æ¨¡æ¿ä»£ç å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>raf, cancel æºç è§ <a href="#collapse" style="color: blue">â†’é™„å½•â†</a></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div</span><br><span class="line">    :<span class="class"><span class="keyword">class</span></span>=<span class="string">"[</span></span><br><span class="line"><span class="string">      b(),</span></span><br><span class="line"><span class="string">      &#123; 'thinline--top': index &#125;</span></span><br><span class="line"><span class="string">    ]"</span></span><br><span class="line">  &gt;</span><br><span class="line">    &lt;!-- é€šè¿‡ $props å°†çˆ¶ç»„ä»¶çš„ props ä¸€èµ·ä¼ ç»™å­ç»„ä»¶ - --&gt;</span><br><span class="line">    &lt;cell :<span class="class"><span class="keyword">class</span></span>=<span class="string">"b('title', &#123; expanded, disabled &#125;)"</span> v-bind=<span class="string">"$props"</span> @click=<span class="string">"onClick"</span>&gt;</span><br><span class="line">      &lt;slot slot=<span class="string">"icon"</span> name=<span class="string">"icon"</span> /&gt;</span><br><span class="line">      &lt;slot slot=<span class="string">"title"</span> name=<span class="string">"title"</span> /&gt;</span><br><span class="line">      &lt;slot slot=<span class="string">"value"</span> name=<span class="string">"value"</span> /&gt;</span><br><span class="line">      &lt;slot slot=<span class="string">"right-icon"</span> name=<span class="string">"right-icon"</span> /&gt;</span><br><span class="line">    &lt;<span class="regexp">/cell&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    &lt;div</span></span><br><span class="line"><span class="regexp">      v-if="inited"</span></span><br><span class="line"><span class="regexp">      v-show="show"</span></span><br><span class="line"><span class="regexp">      ref="wrapper"</span></span><br><span class="line"><span class="regexp">      :class="b('wrapper')"</span></span><br><span class="line"><span class="regexp">      @transitionend="onTransitionEnd"</span></span><br><span class="line"><span class="regexp">    &gt;</span></span><br><span class="line"><span class="regexp">      &lt;div ref="content" :class="b('content')"&gt;</span></span><br><span class="line"><span class="regexp">        &lt;slot /</span>&gt;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; raf, cancel &#125; <span class="keyword">from</span> <span class="string">'../utils/raf'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> rafID = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> create(&#123;</span><br><span class="line">  name: <span class="string">'collapse-item'</span>,</span><br><span class="line"></span><br><span class="line">  props: &#123;</span><br><span class="line">    name: [<span class="built_in">String</span>, <span class="built_in">Number</span>],</span><br><span class="line">    disabled: <span class="built_in">Boolean</span>,</span><br><span class="line">    icon: <span class="built_in">String</span>,</span><br><span class="line">    description: <span class="built_in">String</span>,</span><br><span class="line">    title: [<span class="built_in">String</span>, <span class="built_in">Number</span>],</span><br><span class="line">    value: [<span class="built_in">String</span>, <span class="built_in">Number</span>],</span><br><span class="line">    border: &#123;</span><br><span class="line">      type: <span class="built_in">Boolean</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    isLink: &#123;</span><br><span class="line">      type: <span class="built_in">Boolean</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  inject: [<span class="string">'Collapse'</span>],</span><br><span class="line"></span><br><span class="line">  data () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      show: <span class="literal">null</span>,</span><br><span class="line">      inited: <span class="literal">null</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  computed: &#123;</span><br><span class="line">    items () &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.parent.items</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    index () &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.items.indexOf(<span class="keyword">this</span>)</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    currentName () &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.isDef(<span class="keyword">this</span>.name) ? <span class="keyword">this</span>.name : <span class="keyword">this</span>.index</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    expanded () &#123;</span><br><span class="line">      <span class="keyword">if</span> (!<span class="keyword">this</span>.parent) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> &#123; value &#125; = <span class="keyword">this</span>.parent</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.parent.accordion</span><br><span class="line">        ? value === <span class="keyword">this</span>.currentName</span><br><span class="line">        : value.some(<span class="function"><span class="params">name</span> =&gt;</span> name === <span class="keyword">this</span>.currentName)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  watch: &#123;</span><br><span class="line">    expanded (expanded, prev) &#123;</span><br><span class="line">      <span class="keyword">if</span> (prev === <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (expanded) &#123;</span><br><span class="line">        <span class="keyword">this</span>.show = <span class="literal">true</span></span><br><span class="line">        <span class="keyword">this</span>.inited = <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">this</span>.$nextTick(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123; content, wrapper &#125; = <span class="keyword">this</span>.$refs</span><br><span class="line">        <span class="keyword">if</span> (!content || !wrapper) &#123;</span><br><span class="line">          <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> contentHeight = content.clientHeight + <span class="string">'px'</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¤„ç†ç¬¬ä¸€æ¬¡é«˜åº¦å±•å¼€æˆ–æ”¶èµ·æ¥æ—¶çš„åŠ¨ç”»</span></span><br><span class="line">        wrapper.style.height = expanded ? <span class="number">0</span> : contentHeight</span><br><span class="line">        rafID = raf(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">          wrapper.style.height = expanded ? contentHeight : <span class="number">0</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  created () &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.Collapse) &#123;</span><br><span class="line">      <span class="built_in">console</span>.error(<span class="string">'CollapseItem needs to be child of Collapse'</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">this</span>.parent = <span class="keyword">this</span>.Collapse</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.items.push(<span class="keyword">this</span>)</span><br><span class="line">    <span class="keyword">this</span>.show = <span class="keyword">this</span>.expanded</span><br><span class="line">    <span class="keyword">this</span>.inited = <span class="keyword">this</span>.expanded</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  destroyed () &#123;</span><br><span class="line">    cancel(rafID)</span><br><span class="line">    <span class="keyword">this</span>.items.splice(<span class="keyword">this</span>.index, <span class="number">1</span>)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  methods: &#123;</span><br><span class="line">    onClick () &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.disabled) &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">this</span>.parent.switch(<span class="keyword">this</span>.currentName, !<span class="keyword">this</span>.expanded)</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    onTransitionEnd () &#123;</span><br><span class="line">      <span class="keyword">if</span> (!<span class="keyword">this</span>.expanded) &#123;</span><br><span class="line">        <span class="keyword">this</span>.show = <span class="literal">false</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>åˆ†æä»£ç ï¼š</p>
<ol>
<li>é€šè¿‡ inject æ¥æ”¶çˆ¶ç»„ä»¶çš„ä¾èµ–ï¼Œå¹¶åœ¨ <code>created</code> ç”Ÿå‘½å‘¨æœŸä¸­è¿›è¡Œæ ¡éªŒå’Œåˆå§‹åŒ–</li>
<li>å­ç»„ä»¶å†…å®¹å®¹å™¨ä¸ŠåŒæ—¶è¿ç”¨ <code>v-if</code> å’Œ <code>v-show</code> è¿™æ ·ä¿è¯äº†ï¼Œç¬¬ä¸€æ¬¡æ—¶ä¸åšå…¨éƒ¨æ¸²æŸ“ï¼Œåˆä¿è¯äº†åç»­åˆ‡æ¢æ—¶ï¼Œä¸éœ€è¦è¿›è¡Œé¢‘ç¹çš„é‡æ–°ç”Ÿæˆdom</li>
<li>å¦‚æœä¸æ˜¾ç¤ºè®¾ç½® <code>name</code>ï¼Œ é»˜è®¤å€¼ä¸ºå½“å‰ç»„ä»¶åœ¨æŠ˜å åˆ—è¡¨ä¸­çš„ç´¢å¼•å€¼</li>
<li>é€šè¿‡ currentName ä¸ çˆ¶ç»„ä»¶çš„ value å€¼è¿›è¡Œæ¯”è¾ƒåˆ¤æ–­ç¡®å®šå½“å‰å­é¡¹çš„å±•å¼€çŠ¶æ€</li>
<li>å®ƒç‚¹å‡»æ”¹å˜å­é¡¹çš„çŠ¶æ€æ—¶ï¼Œç›‘å¬å±•å¼€çŠ¶æ€ï¼Œå¹¶åœ¨é‡Œé¢å¯¹å±•å¼€å†…å®¹ï¼Œè¿›è¡Œç¬¬ä¸€å¸§çš„rafåŠ¨ç”»ï¼Œå…¶ä»–å¸§æ˜¯cssåŠ¨ç”»</li>
<li>é€šè¿‡ <code>onTransitionEnd</code> æ•æ‰è¿‡æ¸¡ç»“æŸçŠ¶æ€ï¼Œå¹¶åŒæ—¶æ”¹å˜ <code>show</code> å˜é‡çš„çŠ¶æ€</li>
</ol>
<p>æ ·å¼ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight styl"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-class">.collapse-item</span> &#123;</span><br><span class="line">  &amp;__title &#123;</span><br><span class="line">    <span class="selector-class">.cell__right-icon</span>::before &#123;</span><br><span class="line">      transition: .3s</span><br><span class="line">      <span class="attribute">transform</span>: rotate(<span class="number">90deg</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &amp;::after &#123;</span><br><span class="line">      <span class="attribute">visibility</span>: hidden</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &amp;--expanded &#123;</span><br><span class="line">      <span class="selector-class">.cell__right-icon</span>::before &#123;</span><br><span class="line">        <span class="attribute">transform</span>: rotate(-<span class="number">90deg</span>)</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      &amp;::after &#123;</span><br><span class="line">        <span class="attribute">visibility</span>: visible</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &amp;--disabled &#123;</span><br><span class="line">      &amp;,</span><br><span class="line">      &amp; <span class="selector-class">.cell__right-icon</span> &#123;</span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$gray</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      &amp;:active &#123;</span><br><span class="line">        <span class="attribute">background-color</span>: <span class="number">#fff</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;__wrapper &#123;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden</span><br><span class="line">    will-change: <span class="attribute">height</span></span><br><span class="line">    transition: height .3s ease-in-out</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;__content &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">15px</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#fff</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»ä¸Šè¿°ä»£ç å¯çŸ¥ï¼Œé’ˆå¯¹ <code>height</code> åšè¿‡æ¸¡ï¼Œå®ç°å¹³æ»‘æŠ˜å æ•ˆæœ</p>
<h4 id="DEMOå±•ç¤º"><a href="#DEMOå±•ç¤º" class="headerlink" title="DEMOå±•ç¤º"></a>DEMOå±•ç¤º</h4><p>ç‚¹å‡»ä¸‹æ–¹é“¾æ¥æŸ¥çœ‹ ğŸ‘‡ï¼š<br><a href="http://wechat.hand-china.com/hippius-ui/#/zh-CN/collapse" target="_blank" rel="noopener">http://wechat.hand-china.com/hippius-ui/#/zh-CN/collapse</a></p>
<p><strong><em><a name="collapse">é™„å½•ï¼š</a></em></strong></p>
<ul>
<li>raf æºç åˆ†æè§ <a href="/2019/03/01/util/#raf">raf</a></li>
</ul>
]]></content>
      <categories>
        <category>Vue</category>
        <category>ç»„ä»¶å¼€å‘</category>
        <category>Collapse</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>ç»„ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title>è¶…æœ‰ä»·å€¼æ–‡ç« æ”¶é›† (é“¾æ¥)</title>
    <url>/2019/03/11/collection/</url>
    <content><![CDATA[<h3 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h3><div class="note info"><ul>
<li><a href="https://www.jianshu.com/p/046f1b7e3b00" target="_blank" rel="noopener">CSSç†è§£ä¹‹z-index</a></li>
<li><a href="https://www.cnblogs.com/xiahj/p/8036419.html" target="_blank" rel="noopener">æ·±å…¥ç ”ç©¶-webkit-overflow-scrolling:touchåŠiosæ»šåŠ¨</a></li>
<li><a href="https://www.zhangxinxu.com/wordpress/2011/04/css-clip-rect/" target="_blank" rel="noopener">CSS clip:rectçŸ©å½¢å‰ªè£åŠŸèƒ½åŠä¸€äº›åº”ç”¨ä»‹ç»</a></li>
<li><a href="https://blog.csdn.net/m0_37058714/article/details/80765562" target="_blank" rel="noopener">csså¼¹æ€§ç›’å­â€”â€”-æ¡ƒå›­ä¸‰å…„å¼Ÿä¹‹ï¼šflex-growã€flex-shrinkã€flex-basisè¯¦è§£</a></li>
</ul></div>
<h3 id="EVENT"><a href="#EVENT" class="headerlink" title="EVENT"></a>EVENT</h3><div class="note info"><ul>
<li><a href="https://segmentfault.com/a/1190000007913386?_ea=1507605" target="_blank" rel="noopener">ç§»åŠ¨Webæ»šåŠ¨æ€§èƒ½ä¼˜åŒ–åˆ†æ: Passive event listeners</a></li>
</ul></div>
<h3 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h3><div class="note info"><ul>
<li><a href="https://www.cnblogs.com/xiaohuochai/p/5773183.html" target="_blank" rel="noopener">æ·±å…¥ç†è§£å®šæ—¶å™¨ç³»åˆ—ç¬¬ä¸€ç¯‡â€”â€”ç†è§£setTimeoutå’ŒsetInterval</a></li>
<li><a href="https://blog.csdn.net/qq_27397357/article/details/52839355" target="_blank" rel="noopener">ç»ˆäºæ¸…æ™°å•¦ï¼offsetHeightã€scrollHeightã€clientHeightå’ŒoffsetTopã€scrollTopã€clientTop</a></li>
</ul></div>
<h3 id="BABEL"><a href="#BABEL" class="headerlink" title="BABEL"></a>BABEL</h3><div class="note info"><ul>
<li><a href="https://www.jianshu.com/p/d078b5f3036a" target="_blank" rel="noopener">Babel 7.1ä»‹ç» transform-runtime polyfill env</a></li>
</ul></div>
]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>css</tag>
        <tag>event</tag>
      </tags>
  </entry>
  <entry>
    <title>Grid æ …æ ¼ç»„ä»¶</title>
    <url>/2018/11/13/grid/</url>
    <content><![CDATA[<blockquote><p>å­¦ç„¶åçŸ¥ä¸è¶³</p>
<footer><strong>æˆ´åœ£</strong><cite><<ç¤¼è®°Â·å­¦è®°>></ç¤¼è®°Â·å­¦è®°></cite></footer></blockquote>
<h3 id="å£°æ˜"><a href="#å£°æ˜" class="headerlink" title="å£°æ˜"></a>å£°æ˜</h3><hr>
<div class="note info"><p><strong>æœ¬ç¯‡æ–‡ç« æ˜¯åŸºäºç½‘ä¸Šå¼€æºçš„UIåº“ vantã€antdã€element ç­‰åšçš„å…³äºä¸€ä¸ªæ …æ ¼ç»„ä»¶çš„åˆ†æ</strong></p></div>
<h3 id="ç»„ä»¶åˆ†æ"><a href="#ç»„ä»¶åˆ†æ" class="headerlink" title="ç»„ä»¶åˆ†æ"></a>ç»„ä»¶åˆ†æ</h3><hr>
<ol>
<li>é¦–å…ˆï¼Œéœ€è¦åˆ›å»ºçš„æ˜¯ä¸€ä¸ªå¸ƒå±€ç»„ä»¶ï¼ŒåŸºæœ¬çš„ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</li>
</ol>
<p><img src="/images/layout.png" alt="basic-layout"></p>
<p>ä»ä¸Šå›¾å¯çŸ¥ï¼Œä¸€ä¸ªå¸ƒå±€ç»„ä»¶æœ€å°‘éœ€è¦2ä¸ªå®¹å™¨ï¼Œä¸€ä¸ªçˆ¶å®¹å™¨ç»„ä»¶ <code>&lt;row&gt;</code>ï¼Œå¤šä¸ªå­å®¹å™¨ç»„ä»¶ <code>&lt;col&gt;</code>ï¼Œå½“ç„¶ï¼Œè¿™ä¸ªç®€å•ç»“æ„æ˜¯ä¸è¶³ä»¥æ”¯æŒå¤æ‚åœºæ™¯çš„ï¼Œæˆ‘ä»¬ç»§ç»­å¾€ä¸‹èµ°</p>
<ol start="2">
<li>ç°ä»£æµè§ˆå™¨å¸¸ç”¨çš„å¸ƒå±€æ–¹å¼ä¸º <code>flexå¸ƒå±€</code>ï¼Œä½†æ˜¯ä¸ºäº†è€ƒè™‘åˆ°å…¼å®¹æ€§é—®é¢˜ï¼Œå¾—æœ‰ä¸ªå…¼å®¹æ€§ç‰ˆçš„åŸºç¡€å¸ƒå±€</li>
</ol>
<h3 id="ç»„ä»¶è®¾è®¡"><a href="#ç»„ä»¶è®¾è®¡" class="headerlink" title="ç»„ä»¶è®¾è®¡"></a>ç»„ä»¶è®¾è®¡</h3><hr>
<p>ä¸ºäº†è€ƒè™‘åˆ°å®é™…æƒ…å†µï¼Œæ‰€ä»¥éœ€è¦è€ƒè™‘ï¼Œå­å®¹å™¨ <code>åˆ—å…ƒç´ </code> çš„å ä½ <code>span</code>ã€é—´è· <code>gutter</code>ã€ åç§» <code>offset</code> é—®é¢˜ï¼Œ ä¸”ä¸ºäº†èƒ½æ›´åŠ ç»†åˆ†å’Œé€‚åº”æ›´å¤šçš„åœºæ™¯ï¼Œè¿™é‡ŒæŠŠ çˆ¶å®¹å™¨ <code>è¡Œå…ƒç´ </code> åˆ†ä¸º24æ …æ ï¼Œå…·ä½“æ€è·¯å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<ol>
<li><p>è€ƒè™‘åˆ°ç»„ä»¶çš„çµæ´»æ€§ï¼ŒæŠŠçˆ¶å­å®¹å™¨ç»„ä»¶éƒ½è®¾è®¡ä¸ºåŠ¨æ€ <code>&lt;component&gt;</code> ç»„ä»¶ï¼Œé€šè¿‡ <code>is</code> å±æ€§æŒ‡å®šå…·ä½“æ ‡ç­¾</p>
</li>
<li><p>åœ¨çˆ¶å®¹å™¨ <code>&lt;row&gt;</code> ä¸Šï¼Œè®¾è®¡ <code>type</code>ï¼Œé€šè¿‡ç±»å‹ä¼ é€’æ¥é€‰æ‹©å¼€ä¸å¼€èµ· <code>flex</code> å¸ƒå±€</p>
</li>
<li><p>åœ¨çˆ¶å®¹å™¨ <code>&lt;row&gt;</code> ä¸Šï¼Œä¼ é€’ <code>gutter</code>ï¼Œå¹¶åœ¨å­å®¹å™¨ <code>&lt;col&gt;</code> ä¸Šï¼Œé€šè¿‡ <code>this.$parent</code> å¯¹è±¡ï¼Œå–åˆ°çˆ¶å®¹å™¨ä¸Šä¼ é€’çš„ <code>gutter</code> æ¥è®¾ç½®åˆ—å…ƒç´ çš„é—´è·ï¼Œå› ä¸ºéœ€è¦è€ƒè™‘åˆ°è¾¹ç•Œæ¡ä»¶ï¼Œå®¹å™¨2ç«¯çš„åˆ—å…ƒç´ åº”è¯¥æ²¡æœ‰paddingï¼Œå¹¶ä¸”è€ƒè™‘åˆ°åˆ—å…ƒç´ åº”è¯¥è¢«å‡åŒ€æ‹‰ä¼¸ï¼Œæ‰€ä»¥æ­¤æ—¶åœ¨çˆ¶å®¹å™¨ä¸Šé€šè¿‡ <code>gutter</code> æ¥è®¡ç®—å¹¶è®¾ç½®çˆ¶å®¹å™¨çš„è´Ÿè¾¹è·ï¼Œä»¥æ­¤æ¥å¤„ç†è¿™ç§æƒ…å†µï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ <code>gutter</code> ä¼ é€’åˆ°çˆ¶å®¹å™¨è€Œä¸æ˜¯å­å®¹å™¨çš„ä¸€ä¸ªåŸå› </p>
</li>
<li><p>åœ¨å­å®¹å™¨ <code>&lt;col&gt;</code> ä¸Šï¼Œä¼ é€’ <code>offset</code>ï¼Œæ¥è®¾ç½®åˆ—å…ƒç´ çš„åç§»å€¼ï¼Œè¿™é‡Œé€šè¿‡è®¾ç½®å·¦å¤–è¾¹è· <code>margin-left</code> æ¥å®ç°ï¼Œè®¡ç®—è§„åˆ™ (ä¸è®¡ç®— <code>span</code> ä¸€æ ·) å¦‚ä¸‹æ‰€ç¤ºï¼Œè¿™é‡Œé‡‡ç”¨çš„æ˜¯stylusè¯­æ³•ï¼š</p>
</li>
</ol>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">&#123; <span class="attribute">margin-left</span>: <span class="string">"calc(%s * 100% / 24)"</span> % <span class="variable">$i</span> &#125;</span><br></pre></td></tr></table></figure>
<p>å®¹å™¨å…·ä½“çš„å±æ€§è®¾è®¡æ€»ç»“å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<h4 id="Row"><a href="#Row" class="headerlink" title="Row"></a>Row</h4><table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
<th>é»˜è®¤å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>å¸ƒå±€æ–¹å¼ï¼Œå¯é€‰å€¼ä¸ºflex</td>
<td>-</td>
</tr>
<tr>
<td>gutter</td>
<td>åˆ—å…ƒç´ ä¹‹é—´çš„é—´è·ï¼ˆå•ä½ä¸ºpxï¼‰</td>
<td>-</td>
</tr>
<tr>
<td>tag</td>
<td>è‡ªå®šä¹‰å…ƒç´ æ ‡ç­¾</td>
<td><code>div</code></td>
</tr>
<tr>
<td>justify</td>
<td>Flex ä¸»è½´å¯¹é½æ–¹å¼</td>
<td><code>start</code></td>
</tr>
<tr>
<td>align</td>
<td>Flex äº¤å‰è½´å¯¹é½æ–¹å¼</td>
<td><code>top</code></td>
</tr>
</tbody>
</table>
<h4 id="Col"><a href="#Col" class="headerlink" title="Col"></a>Col</h4><table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
<th>é»˜è®¤å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td>span</td>
<td>åˆ—å…ƒç´ å®½åº¦</td>
<td>-</td>
</tr>
<tr>
<td>offset</td>
<td>åˆ—å…ƒç´ åç§»è·ç¦»</td>
<td>-</td>
</tr>
<tr>
<td>tag</td>
<td>è‡ªå®šä¹‰å…ƒç´ æ ‡ç­¾</td>
<td><code>div</code></td>
</tr>
</tbody>
</table>
<h3 id="å¸ƒå±€æ ·å¼åˆ†æ"><a href="#å¸ƒå±€æ ·å¼åˆ†æ" class="headerlink" title="å¸ƒå±€æ ·å¼åˆ†æ"></a>å¸ƒå±€æ ·å¼åˆ†æ</h3><hr>
<p>å®Œæ•´ä»£ç ï¼Œè¯·<a href="#appendGrid" style="color: blue">â†’æˆ³æ­¤å¤„â†</a></p>
<ol>
<li>ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨å¾ªç¯ï¼Œå˜é‡è¿™äº›è¯­æ³•ï¼Œé‡‡ç”¨stylusæˆ–å…¶ä»–é¢„ç¼–è¯‘è¯­è¨€ç¼–å†™æ ·å¼ï¼Œ<code>ä¸‹é¢æ‰€æœ‰çš„cssä»£ç ç‰‡æ®µéƒ½é‡‡ç”¨stylusä¹¦å†™</code></li>
<li>ä¸ºäº†è€ƒè™‘ç»„ä»¶ä¹‹åä½¿ç”¨åœºæ™¯ï¼Œéœ€è¦è‰¯å¥½çš„è¦†ç›–æ€§å’Œå‘½åçš„ç‹¬ç«‹æ€§ï¼Œè¿™é‡Œé‡‡ç”¨<a href="https://en.bem.info/methodology/quick-start/" target="_blank" rel="noopener">BEMå‘½åè§„èŒƒ</a></li>
<li><p>ä¸ºäº†åˆ›å»ºå…¼å®¹æ€§ç‰ˆæœ¬çš„å¸ƒå±€ï¼Œè¿™é‡Œå­å®¹å™¨é‡‡ç”¨ <code>float</code> å¸ƒå±€ï¼Œå¹¶è®¾ç½®ç›’æ¨¡å‹ä¸º <code>border-box</code> (å†…è¾¹è·å’Œè¾¹æ¡†åœ¨ä»¥è®¾å®šçš„å®½é«˜å†…è¿›è¡Œç»˜åˆ¶)ï¼Œæ›´å¤š<a href="https://www.cnblogs.com/svenjia/p/7701168.html" target="_blank" rel="noopener">ç›’æ¨¡å‹</a>çŸ¥è¯†è‡ªè¡Œæœç´¢ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><strong><em>{prefix}æ˜¯stylusçš„æ’å€¼è¯­æ³•ï¼Œä»£è¡¨ç±»åçš„å‰ç¼€ï¼Œè¡¨ç¤ºè®¾ç½®äº†ä¸€ä¸ª prefix å˜é‡ï¼Œå¦‚ï¼šprefix = hips</em></strong></p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">.&#123;prefix&#125;-col &#123;</span><br><span class="line">  <span class="attribute">float</span>: left</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åŒæ—¶ä¸ºäº†å¤„ç†é«˜åº¦å¡Œé™·å’Œmarginæ— æ•ˆç­‰é—®é¢˜ï¼Œéœ€è¦æˆ‘ä»¬åœ¨çˆ¶å®¹å™¨ä¸Šé€šè¿‡ä¼ªå…ƒç´ ä¸Šçš„è®¾ç½®æ¥æ¸…é™¤æµ®åŠ¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">.&#123;prefix&#125;-row &#123;</span><br><span class="line">  &amp;::after &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">""</span></span><br><span class="line">    <span class="attribute">display</span>: table</span><br><span class="line">    <span class="attribute">clear</span>: both</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨å°† <code>type</code> è®¾ä¸º <code>flex</code> çš„æ—¶å€™ï¼Œ<strong><em>è®¾ä¸ºFlexå¸ƒå±€ä»¥åï¼Œå­å…ƒç´ çš„floatã€clearå’Œvertical-alignå±æ€§å°†å¤±æ•ˆ</em></strong>ï¼Œä½†è¿˜æ˜¯éœ€è¦å°†çˆ¶å®¹å™¨ä¸Šçš„ä¼ªå…ƒç´ æ¸…é™¤å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">.&#123;prefix&#125;-row &#123;</span><br><span class="line">  &amp;--<span class="attribute">flex</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex</span><br><span class="line">    &amp;::after &#123;</span><br><span class="line">      <span class="attribute">display</span>: none</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>è‡³äºä¸Šé¢ä¸ºä»€ä¹ˆè¦é‚£ä¹ˆè®¾è®¡ï¼Œè¿™é‡Œæœ‰ä¸€ç¯‡åˆ†æ<a href="https://www.jianshu.com/p/1978c7a3292d" target="_blank" rel="noopener">Bootstrapå’Œflex</a>çš„æ–‡ç« ï¼Œä¹Ÿæ˜¯æ …æ ¼å¸ƒå±€æ¦‚å¿µç²¾è¦ï¼Œæ¨èé˜…è¯»!!</p>
<p>è¿™é‡Œæ˜¯ä¸€ä¸ªåœ¨çº¿æµ‹è¯•demoï¼Œåšäº†<a href="https://codepen.io/shellWolf/pen/oVNaxq?editors=1100" target="_blank" rel="noopener">floatå¸ƒå±€-å¤„ç†é«˜åº¦å¡Œé™·å’Œmarginæ— æ•ˆ</a>ç­‰é—®é¢˜çš„åˆ†æï¼Œæœ‰å…´è¶£å¯ä»¥è‡ªå·±å®é™…æ¼”ç»ƒä¸‹ã€‚</p>
<p>âœ¨ è¿™é‡Œæ˜¯ä¸€ä¸ªå…³äºGridç»„ä»¶çš„åœ¨çº¿demo ï¼Œ<a href="http://wechat.hand-china.com/hippius-ui/#/zh-CN/col" target="_blank" rel="noopener">è¯·ç‚¹å‡»â†’</a></p>
<p><strong><em><a name="appendGrid">é™„å½•ï¼š</a></em></strong></p>
<ul>
<li>ä¸€ä¸ªæ–°å±æ€§ä»‹ç»<a href="https://div.io/topic/1973" target="_blank" rel="noopener">display:flow-root</a>ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯åˆ›å»ºä¸€ä¸ª<a href="https://www.cnblogs.com/libin-1/p/7098468.html" target="_blank" rel="noopener">BFC</a></li>
<li>Row <a href="https://github.com/youzan/vant/blob/dev/packages/row" target="_blank" rel="noopener">æºç </a></li>
<li>Col <a href="https://github.com/youzan/vant/blob/dev/packages/col" target="_blank" rel="noopener">æºç </a></li>
</ul>
]]></content>
      <categories>
        <category>Vue</category>
        <category>ç»„ä»¶å¼€å‘</category>
        <category>Grid</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>ç»„ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•å®ç°å›½é™…åŒ–ï¼ˆi18nï¼‰</title>
    <url>/2019/02/26/i18n/</url>
    <content><![CDATA[<blockquote><p>åƒé‡Œä¹‹è¡Œï¼Œå§‹äºè¶³ä¸‹</p>
<footer><strong>è€å­</strong><cite><<é“å¾·ç»>></é“å¾·ç»></cite></footer></blockquote>
<h3 id="å£°æ˜"><a href="#å£°æ˜" class="headerlink" title="å£°æ˜"></a>å£°æ˜</h3><hr>
<div class="note info"><p><strong>æœ¬ç¯‡æ–‡ç« çš„æºä»£ç åŸºäºå¼€æºç»„ä»¶åº“ vant</strong> </p></div>
<h3 id="éœ€æ±‚åˆ†æ"><a href="#éœ€æ±‚åˆ†æ" class="headerlink" title="éœ€æ±‚åˆ†æ"></a>éœ€æ±‚åˆ†æ</h3><hr>
<p>åœ¨å¼€å§‹å®ç°åŠŸèƒ½ä¹‹å‰æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹ï¼Œé€šç”¨çš„i18nåº“çš„ä½¿ç”¨æµç¨‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="/images/i18n.gif" alt="i18nä½¿ç”¨æµç¨‹å›¾"></p>
<p>ä»ä¸Šå›¾å¯çŸ¥ï¼Œè¦æƒ³ä½¿ç”¨i18nå¾—å…ˆå¯¼å…¥è¿™ä¸ªåŒ…ï¼Œç„¶åä½¿ç”¨<code>Vue.use</code>æ–¹æ³•å»installè¿™ä¸ªåŒ…ï¼Œå†è¿›è¡Œåˆå§‹åŒ–i18nå®ä¾‹ï¼Œæœ€ååœ¨<code>new Vue</code>çš„æ—¶å€™æŒ‚è½½åˆ°å…¨å±€ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬è®¾è®¡çš„æ—¶å€™éœ€è¦æä¾›ä¸€ä¸ª <code>install</code> æ–¹æ³•ï¼Œç”¨äºåˆå§‹åŒ–ï¼Œä¹Ÿéœ€è¦æä¾› <code>locale</code> å’Œ <code>messages</code> å»æ ‡è®°å½“å‰è¯­è¨€ç±»å‹å’Œå…·ä½“çš„è¯­è¨€å¯¹åº”çš„å†…å®¹ï¼Œæœ€åæŒ‚è½½åˆ°Vueçš„å…¨å±€å®ä¾‹ä¸Šã€‚ç»§ç»­å¾€ä¸‹èµ° -â†“</p>
<h3 id="è®¾è®¡å®æˆ˜"><a href="#è®¾è®¡å®æˆ˜" class="headerlink" title="è®¾è®¡å®æˆ˜"></a>è®¾è®¡å®æˆ˜</h3><hr>
<p>å®ç°ç»†èŠ‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<ol>
<li>å®šä¹‰ä¸€ä¸ª <code>install</code> æ–¹æ³•ï¼Œç”¨äºåˆå§‹åŒ–ã€‚åœ¨è¿™ä¸ªæ–¹æ³•ä¸­æˆ‘ä»¬åˆ›å»º2ä¸ªæŒ‚è½½åœ¨VueåŸå‹ä¸Šçš„å“åº”å¼å¯¹è±¡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> defaultMessages <span class="keyword">from</span> <span class="string">'./lang/zh-CN'</span> <span class="comment">// å¯¹åº”çš„é»˜è®¤è¯­è¨€åŒ…</span></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> proto = Vue.prototype</span><br><span class="line"><span class="keyword">const</span> defaultLang = <span class="string">'zh-CN'</span></span><br><span class="line">...</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">install</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  ...</span><br><span class="line">  Vue.util.defineReactive(proto, <span class="string">'$prefixLang'</span>, defaultLang)</span><br><span class="line">  Vue.util.defineReactive(proto, <span class="string">'$prefixMessages'</span>, &#123;</span><br><span class="line">    [defaultLang]: defaultMessages,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»ä¸Šå¯çŸ¥ï¼Œå®šä¹‰äº†2ä¸ªç§æœ‰å±æ€§ <code>$prefixLang</code> (<strong><em>å¯¹åº”locale</em></strong>) å’Œ <code>$prefixMessages</code> (<strong><em>å¯¹åº”messages</em></strong>) (æ³¨æ„ä¸ºå˜é‡åå¸¦ä¸Šè‡ªå®šä¹‰çš„ <code>prefix</code>) åœ¨Vueçš„åŸå‹ä¸Šï¼Œè¿™æ ·å°±è¾¾åˆ°äº†æŒ‚è½½åˆ°å…¨å±€çš„ç›®çš„ï¼Œä½†æ˜¯ä¸ºäº†èƒ½å¤Ÿä½¿ä¹‹å˜ä¸ºå¯å“åº”å¼çš„å¯¹è±¡ï¼Œè¿˜éœ€è¦åˆ©ç”¨ <code>Vue.util.defineReactive</code> æ–¹æ³•ï¼ˆè¿™ä¸ªæ–¹æ³•æ²¡æœ‰åœ¨å®˜ç½‘ä¸Šæš´éœ²ï¼Œéœ€è¦é€šè¿‡åˆ†ææºç æ—¶è·çŸ¥ï¼Œæ›´å…·ä½“çš„è§£é‡Šè§<a href="#appendI18n" style="color: blue">â†’é™„å½•â†</a>ï¼‰</p>
<ol start="2">
<li>å®šä¹‰ä¸€ä¸ª <code>use</code> æ–¹æ³•è¿›è¡Œè¯­è¨€çš„åˆ‡æ¢ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> deepAssign <span class="keyword">from</span> <span class="string">'../utils/deep-assign'</span></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> proto = Vue.prototype</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">use</span> (<span class="params">lang, messages</span>) </span>&#123;</span><br><span class="line">  proto.$prefixLang = lang</span><br><span class="line">  add(&#123;</span><br><span class="line">    [lang]: messages,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span> (<span class="params">messages = &#123;&#125;</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// å°† messages æ‰€æœ‰å¯æšä¸¾å±æ€§å¤åˆ¶åˆ° $prefixMessages å±æ€§ä¸Š</span></span><br><span class="line">  deepAssign(proto.$prefixMessages, messages)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»ä¸Šå¯ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>use</code> æ–¹æ³•å¹¶é…åˆ <code>deepAssign</code> æ–¹æ³• æ¥è¿›è¡Œå½“å‰è¯­è¨€å’Œå¯¹åº”çš„å†…å®¹çš„åˆ‡æ¢, <code>deepAssign</code> çš„å®ç°ç»†èŠ‚è§ <a href="#appendI18n" style="color: blue">â†’é™„å½•â†</a></p>
<ol start="3">
<li>ä¸ºäº†èƒ½å¤Ÿåœ¨Vueç»„ä»¶æ¨¡æ¿ä¸­ä½¿ç”¨ï¼ŒåŒæ ·éœ€è¦åˆ›å»ºä¸€ä¸ª <code>$t</code> å‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get</span> (<span class="params">object, path</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> keys = path.split(<span class="string">'.'</span>)</span><br><span class="line">  <span class="keyword">let</span> result = object</span><br><span class="line"></span><br><span class="line">  keys.forEach(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">    result = isDef(result[key]) ? result[key] : <span class="string">''</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> camelizeRE = <span class="regexp">/-(\w)/g</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">camelize</span> (<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> str.replace(camelizeRE, (_, c) =&gt; c.toUpperCase())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// component mixin</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  computed: &#123;</span><br><span class="line">    $t () &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; name &#125; = <span class="keyword">this</span>.$options <span class="comment">// ç”¨äºè·å–å½“å‰ Vue å®ä¾‹çš„åˆå§‹åŒ–é€‰é¡¹</span></span><br><span class="line">      <span class="keyword">const</span> prefix = name ? camelize(name) + <span class="string">'.'</span> : <span class="string">''</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">'production'</span> &amp;&amp; !<span class="keyword">this</span>.$prefixMessages) &#123;</span><br><span class="line">        <span class="built_in">console</span>.warn(<span class="string">'[XXX] Locale not correctly registered.'</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> <span class="string">''</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> messages = <span class="keyword">this</span>.$prefixMessages[<span class="keyword">this</span>.$prefixLang]</span><br><span class="line">      <span class="keyword">return</span> <span class="function">(<span class="params">path, ...args</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> message = <span class="keyword">get</span>(messages, prefix + path) || <span class="keyword">get</span>(messages, path)</span><br><span class="line">        return typeof message === 'function' ? message.apply(null, args) : message</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»ä¸Šå¯çŸ¥ï¼Œåˆ›å»ºäº†ä¸€ä¸ªå¯æ··å…¥çš„ <code>$t</code> computed å±æ€§ï¼Œ ç„¶ååœ¨å¯¹åº”çš„Vueæ–‡ä»¶ä¸Šä½¿ç”¨ <code>mixins</code> çš„æ–¹å¼æ··å…¥ï¼ˆ<a href="https://github.com/youzan/vant/blob/dev/packages/utils/use/i18n.ts" target="_blank" rel="noopener">æ›´å¤šæºç </a>ï¼‰ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½åœ¨Vueç»„ä»¶æ¨¡æ¿ä¸Šä½¿ç”¨ <code>$t</code> å‡½æ•°æ¥åšå›½é™…åŒ–äº†ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; $t('key') &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è‡³æ­¤ï¼Œå¦‚ä½•å®ç°å›½é™…åŒ–å·²ç»å…¨éƒ¨åˆ†æå®Œæ¯•ã€‚</p>
<p><strong><em><a name="appendI18n">é™„å½•ï¼š</a></em></strong></p>
<ul>
<li>Vue.util æºç å®šä¹‰è§ <a href="https://github.com/vuejs/vue/blob/dev/dist/vue.js#L5355" target="_blank" rel="noopener">Vue.util</a></li>
<li>defineReactive æºç åˆ†æè§ <a href="https://ustbhuangyi.github.io/vue-analysis/reactive/reactive-object.html#definereactive" target="_blank" rel="noopener">Vue.util.defineReactive</a></li>
<li>deepAssign æºç åˆ†æè§ <a href="/2019/03/01/util/#deepAssign">deepAssign</a></li>
</ul>
]]></content>
      <categories>
        <category>Vue</category>
        <category>å›½é™…åŒ–</category>
      </categories>
      <tags>
        <tag>Mixin</tag>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title>è‡ªå®šä¹‰å›¾æ ‡å­—ä½“</title>
    <url>/2019/03/03/icon/</url>
    <content><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>æœ¬ç¯‡æ–‡ç« å°†ä»‹ç»å¦‚ä½•å’ŒUIè®¾è®¡å¸ˆé…åˆï¼Œåˆ¶å®šè‡ªå®šä¹‰çš„å›¾æ ‡å­—ä½“ï¼Œæœ€ç»ˆç”Ÿæˆè‡ªå®šä¹‰çš„ttfæ–‡ä»¶å’Œæ ·å¼ã€‚</p>
<h3 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h3><p>å¤§è‡´æµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/images/icon-ttf.gif" alt="icon-ttf"></p>
<p>ä¸‹é¢å°±é’ˆå¯¹å®ƒåšå…·ä½“çš„åˆ†æï¼š</p>
<ol>
<li>é¦–å…ˆéœ€è¦åœ¨ç”µè„‘ä¸­å®‰è£… <code>sketch</code> è½¯ä»¶ï¼Œå› ä¸ºæˆ‘ä»¬è¦ç”¨åˆ°è¯¥è½¯ä»¶çš„ <code>sketchtool</code> (<a href="https://developer.sketchapp.com/guides/sketchtool/" target="_blank" rel="noopener">ä¸€ä¸ªå†…ç½®å·¥å…·</a>)å‘½ä»¤ï¼Œå°† <code>.sketch</code> æºæ–‡ä»¶å¤„ç†ä¸º<code>svg</code>æ–‡ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">shell.exec(<span class="string">`/Applications/Sketch.app/Contents/Resources/sketchtool/bin/sketchtool export slices --formats=svg --overwriting=YES --save-for-web=YES <span class="subst">$&#123;sketch&#125;</span> --output=<span class="subst">$&#123;svgDir&#125;</span>`</span>)</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªiconæ–‡ä»¶å¤¹ï¼Œç”¨äºå¤„ç†sketchæ–‡ä»¶ï¼Œç›®å½•ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š<br><img src="/images/icon.jpg" alt="icon index"></li>
</ol>
<p>ä»ä¸Šå›¾å¯çŸ¥ï¼Œæœ€ç»ˆæˆ‘ä»¬ä¼šç”Ÿæˆä¸€ä¸ªå¸¦ md5 æ ‡è®°çš„ttfæ–‡ä»¶(é€šè¿‡ <code>[gulp-iconfont](https://www.npmjs.com/package/gulp-iconfont)</code> æ¨¡å—)å’Œå¯¹åº”çš„æ ·å¼æ–‡ä»¶index.styl (é€šè¿‡ <code>[gulp-iconfont-css](https://www.npmjs.com/package/gulp-iconfont-css)</code> æ¨¡å—)ï¼Œè¿™2ä¸ªæ¨¡å—çš„æ›´å¤šè§£é‡Šè¯·æŸ¥çœ‹å„è‡ªçš„npmåŒ…ä»‹ç»</p>
<p><code>template.css</code> æ–‡ä»¶ç›¸è¯†ä»£ç è§ï¼š <a href="https://github.com/youzan/vant-icons/blob/master/build/template.tpl" target="_blank" rel="noopener">https://github.com/youzan/vant-icons/blob/master/build/template.tpl</a></p>
<p><code>template-local.js</code> æ–‡ä»¶ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function">(<span class="params">fontName, ttf</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`@font-face &#123;</span></span><br><span class="line"><span class="string">  font-style: normal;</span></span><br><span class="line"><span class="string">  font-weight: normal;</span></span><br><span class="line"><span class="string">  font-family: '<span class="subst">$&#123;fontName&#125;</span>';</span></span><br><span class="line"><span class="string">  src: url('./<span class="subst">$&#123;ttf&#125;</span>') format('truetype');</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢æ˜¯configæ–‡ä»¶ä¸‹ <code>index.js</code>æ–‡ä»¶å†…å®¹ï¼Œå¯ä»¥è‡ªå®šä¹‰å›¾æ ‡çš„æ ·å¼åï¼Œé€šè¿‡ä»¥ä¸‹æ ¼å¼ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    name: <span class="string">'xxx-icon'</span>,</span><br><span class="line">    glyphs: [&#123;</span><br><span class="line">        src: <span class="string">'search.svg'</span>,</span><br><span class="line">        css: <span class="string">'search'</span></span><br><span class="line">    &#125;, ...]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…·ä½“çš„ gulp è„šæœ¬ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * build iconfont from sketch</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs-extra'</span>)</span><br><span class="line"><span class="keyword">const</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>)</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="keyword">const</span> glob = <span class="built_in">require</span>(<span class="string">'fast-glob'</span>)</span><br><span class="line"><span class="keyword">const</span> shell = <span class="built_in">require</span>(<span class="string">'shelljs'</span>)</span><br><span class="line"><span class="keyword">const</span> md5File = <span class="built_in">require</span>(<span class="string">'md5-file'</span>)</span><br><span class="line"><span class="keyword">const</span> iconfont = <span class="built_in">require</span>(<span class="string">'gulp-iconfont'</span>) <span class="comment">// core module</span></span><br><span class="line"><span class="keyword">const</span> iconfontCss = <span class="built_in">require</span>(<span class="string">'gulp-iconfont-css'</span>) <span class="comment">// core module</span></span><br><span class="line"><span class="keyword">const</span> config = <span class="built_in">require</span>(<span class="string">'../packages/icon/config'</span>)</span><br><span class="line"><span class="keyword">const</span> local = <span class="built_in">require</span>(<span class="string">'../packages/icon/config/template-local'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> iconDir = path.join(__dirname, <span class="string">'../packages/icon'</span>)</span><br><span class="line"><span class="keyword">const</span> svgDir = path.join(iconDir, <span class="string">'svg'</span>)</span><br><span class="line"><span class="keyword">const</span> sketch = path.join(iconDir, <span class="string">'assets/icons.sketch'</span>)</span><br><span class="line"><span class="keyword">const</span> template = path.join(iconDir, <span class="string">'config/template.css'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// get md5 from sketch</span></span><br><span class="line"><span class="keyword">const</span> md5 = md5File</span><br><span class="line">  .sync(sketch)</span><br><span class="line">  .slice(<span class="number">0</span>, <span class="number">6</span>)</span><br><span class="line"><span class="keyword">const</span> ttf = <span class="string">`<span class="subst">$&#123;config.name&#125;</span>-<span class="subst">$&#123;md5&#125;</span>.ttf`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// extract svg from sketch should install sketchtool first install guide:</span></span><br><span class="line"><span class="comment">// https://developer.sketchapp.com/guides/sketchtool/</span></span><br><span class="line">shell.exec(<span class="string">`/Applications/Sketch.app/Contents/Resources/sketchtool/bin/sketchtool export slices --formats=svg --overwriting=YES --save-for-web=YES <span class="subst">$&#123;sketch&#125;</span> --output=<span class="subst">$&#123;svgDir&#125;</span>`</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// remove previous ttf</span></span><br><span class="line"><span class="keyword">const</span> prevTTFs = glob.sync(path.join(iconDir, <span class="string">'*.ttf'</span>))</span><br><span class="line">prevTTFs.forEach(<span class="function"><span class="params">ttf</span> =&gt;</span> fs.removeSync(ttf))</span><br><span class="line"></span><br><span class="line"><span class="comment">// rename svg</span></span><br><span class="line">config</span><br><span class="line">  .glyphs</span><br><span class="line">  .forEach(<span class="function">(<span class="params">icon, index</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> src = path.join(svgDir, icon.src)</span><br><span class="line">    <span class="keyword">if</span> (fs.existsSync(src)) &#123;</span><br><span class="line">      fs.renameSync(src, path.join(svgDir, icon.css + <span class="string">'.svg'</span>))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// generate ttf from sketch &amp;&amp; build icon.styl</span></span><br><span class="line">gulp.task(<span class="string">'ttf'</span>, () =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> gulp</span><br><span class="line">    .src([<span class="string">`<span class="subst">$&#123;svgDir&#125;</span>/*.svg`</span>])</span><br><span class="line">    .pipe(iconfontCss(&#123;</span><br><span class="line">      fontName: config.name,</span><br><span class="line">      path: template,</span><br><span class="line">      targetPath: <span class="string">'../icon/index.styl'</span>,</span><br><span class="line">      normalize: <span class="literal">true</span>,</span><br><span class="line">      firstGlyph: <span class="number">0xf000</span>,</span><br><span class="line">      cssClass: ttf, <span class="comment">// this is a trick to pass ttf to template</span></span><br><span class="line">    &#125;))</span><br><span class="line">    .pipe(iconfont(&#123;</span><br><span class="line">      fontName: ttf.replace(<span class="string">'.ttf'</span>, <span class="string">''</span>),</span><br><span class="line">      formats: [<span class="string">'ttf'</span>],</span><br><span class="line">    &#125;))</span><br><span class="line">    .pipe(gulp.dest(iconDir))</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'default'</span>, [<span class="string">'ttf'</span>], () =&gt; &#123;</span><br><span class="line">  <span class="comment">// generate local.styl</span></span><br><span class="line">  fs.writeFileSync(path.join(iconDir, <span class="string">'local.styl'</span>), local(config.name, ttf))</span><br><span class="line"></span><br><span class="line">  <span class="comment">// remove svg</span></span><br><span class="line">  fs.removeSync(svgDir)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// upload ttf to cdn /no cdn shell.exec(`superman cdn /xxx $&#123;path.join(iconDir,</span></span><br><span class="line">  <span class="comment">// ttf)&#125;`)</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong><em> âœ¨ä¸‹é¢æ˜¯å®Œæ•´çš„è‡ªå®šä¹‰å›¾æ ‡å­—ä½“è§£å†³æ–¹æ¡ˆçš„é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/youzan/vant-icons" target="_blank" rel="noopener">https://github.com/youzan/vant-icons</a></em></strong></p>
</blockquote>
]]></content>
      <categories>
        <category>Vue</category>
        <category>Icon</category>
      </categories>
      <tags>
        <tag>icon</tag>
        <tag>ttf</tag>
        <tag>gulp</tag>
      </tags>
  </entry>
  <entry>
    <title>å¯¹äºRotateçš„å›¾å½¢è§£é‡Š</title>
    <url>/2019/03/12/rotate/</url>
    <content><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>å¼€å§‹æœ¬æ–‡ä¹‹å‰ï¼Œéœ€è¦å…ˆå¯¹CSSçš„3dåæ ‡è½´æœ‰ä¸€å®šçš„æ¦‚å¿µï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1552369974256&amp;di=1735bcc1a7fc3a053fe1e3cc8e6facda&amp;imgtype=0&amp;src=http%3A%2F%2Fwww.787866.com%2Fupload%2F2012-08-31%2F2012-08-31-426a7984c0-f7de-4725-84bb-bf5d96477aa7.jpg" alt="3Dåæ ‡è½´"></p>
<h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><h4 id="RotateZ"><a href="#RotateZ" class="headerlink" title="RotateZ"></a>RotateZ</h4><p><img src="/images/rotate.png" alt="rotateZ"></p>
<p>ä»ä¸Šå›¾å¯çŸ¥ï¼ŒrotateZæ—‹è½¬å°±æ˜¯æ™®é€šçš„rotate 2d æ—‹è½¬ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸€ä¸ªå›¾å½¢å‹ç¼©ä¸ºä¸€æ¡çº¿(å›¾ä¸­è“è‰²è™šçº¿)ï¼Œç„¶åæŒ‰ç»™å®šè§’åº¦å°±è¡Œæ—‹è½¬ï¼Œçº¢è‰²è™šçº¿å’Œè“è‰²è™šçº¿çš„å¤¹è§’å°±æ˜¯æ—‹è½¬çš„è§’åº¦</p>
<blockquote>
<p>æ³¨æ„ï¼šrotate é‡‡å–å°±è¿‘è½¬åˆ°ç›®æ ‡çš„åŸåˆ™</p>
<ul>
<li>å°äº180Â°ï¼Œæ­£å¸¸é¡ºæ—¶é’ˆï¼Œä½†å¤§äº180Â°é€†æ—¶é’ˆæ—‹è½¬</li>
<li>è®¾180Â°ä¼šé€†æ—¶é’ˆè½¬ï¼Œ-180Â°æ‰é¡ºæ—¶é’ˆ</li>
<li>è®¾ä¸º360Â°çš„å€æ•°å€¼ä¸ä¼šè½¬</li>
</ul>
</blockquote>
<h4 id="RotateX"><a href="#RotateX" class="headerlink" title="RotateX"></a>RotateX</h4><p><img src="/images/rotate1.png" alt="rotateX"></p>
<p>ä»ä¸Šå›¾å¯çŸ¥ï¼Œå½“ç»•Xè½´æ—‹è½¬æ—¶ï¼Œå›¾å½¢çš„Xè¾¹é•¿ä¸ä¼šå˜åŒ–ï¼Œåªæœ‰Yå€¼å‘ç”Ÿæ”¹å˜ï¼Œå…¬å¼ä¸ºï¼š <code>cos deg * Y = Y&#39;</code>ï¼Œæ„æ€å°±æ˜¯ï¼Œå½“å‰é€‰æ‹©è§’åº¦çš„coså€¼ä¹˜ä»¥åŸå…ˆYè¾¹çš„å€¼ç­‰äºæ—‹è½¬åæ–°è¾¹çš„å€¼</p>
<h4 id="RotateY"><a href="#RotateY" class="headerlink" title="RotateY"></a>RotateY</h4><p><img src="/images/rotate3.png" alt="rotateY"></p>
<p>ä»ä¸Šå›¾å¯çŸ¥ï¼Œå½“ç»•Yè½´æ—‹è½¬æ—¶ï¼Œå›¾å½¢çš„Yè¾¹é•¿ä¸ä¼šå˜åŒ–ï¼Œåªæœ‰Xå€¼å‘ç”Ÿæ”¹å˜ï¼Œå…¬å¼ä¸ºï¼š <code>cos deg * X = X&#39;</code>ï¼Œæ„æ€å°±æ˜¯ï¼Œå½“å‰é€‰æ‹©è§’åº¦çš„coså€¼ä¹˜ä»¥åŸå…ˆXè¾¹çš„å€¼ç­‰äºæ—‹è½¬åæ–°è¾¹çš„å€¼</p>
<blockquote>
<p>Tips:<br>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸ <code>perspective</code> é€è§†å±æ€§ å’Œ <code>transform-style:preserve-3d</code> å±æ€§é…åˆï¼Œè§‚å¯Ÿå›¾å½¢çš„3Då˜åŒ–</p>
</blockquote>
]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>css</tag>
        <tag>rotate</tag>
      </tags>
  </entry>
  <entry>
    <title>Spin æ—‹è½¬æç¤ºç»„ä»¶</title>
    <url>/2019/03/07/spin/</url>
    <content><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>è¦å®ç°ä¸€ä¸ªspinæ•ˆæœï¼Œè¿™é‡Œæœ‰2ç§å®ç°å®ç°æ–¹å¼ï¼š</p>
<ol>
<li><p>å¾€ <code>img</code> æˆ– <code>embed</code> æ ‡ç­¾ä¸­ï¼Œä¼ å…¥svgæ–‡ä»¶ï¼ˆloadingæ•ˆæœçš„svgï¼‰åœ°å€åˆ° <code>src</code> ç‰¹æ€§ä¸­ï¼Œå°±å¯ä»¥äº†</p>
<p>å¦‚ä¸‹æ‰€ç¤ºæ—‹è½¬æ•ˆæœï¼ˆæ›´å¤šèµ„æºï¼ŒæŸ¥çœ‹é™„å½•ï¼‰ï¼š</p>
</li>
</ol>
<p style="display: inline-flex">&nbsp; &nbsp; &nbsp; &nbsp;<img src="https://loading.io/spinners/message/index.messenger-typing-preloader.svg" alt width="80" height="80">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<img src="https://loading.io/spinners/stripe/index.svg" alt width="80" height="80">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<img src="https://loading.io/spinners/camera/index.svg" alt width="80" height="80">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<img src="https://loading.io/spinners/microsoft/index.svg" alt width="80" height="80">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<img src="https://loading.io/spinners/square/index.svg" alt width="77" height="77">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p>

<ol start="2">
<li>åˆ©ç”¨çº¯CSS3æ¥ç»˜åˆ¶æ—‹è½¬æ•ˆæœ ï¼ˆä¸‹é¢å°†é‡ç‚¹åˆ†æå…¶ç»˜åˆ¶è¿‡ç¨‹ï¼‰ï¼Œ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</li>
</ol>
<p><img src="/images/loading.png" alt="spin"></p>
<blockquote>
<p><strong><em>DEMOæ•ˆæœå±•ç¤ºï¼Œè¯·ç‚¹å‡» <a href="http://wechat.hand-china.com/hippius-ui/#/zh-CN/spin" target="_blank" rel="noopener">è¿™é‡Œ</a> æŸ¥çœ‹</em></strong></p>
</blockquote>
<h3 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h3><p>ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<h4 id="æ¨¡æ¿ä»£ç "><a href="#æ¨¡æ¿ä»£ç " class="headerlink" title="æ¨¡æ¿ä»£ç "></a>æ¨¡æ¿ä»£ç </h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">v-if</span>=<span class="string">"!!svgSrc"</span> <span class="attr">:src</span>=<span class="string">"svgSrc"</span> <span class="attr">:style</span>=<span class="string">"svgStyle"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else</span> <span class="attr">:class</span>=<span class="string">"b()"</span> <span class="attr">:style</span>=<span class="string">"sizeStyle"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">v-for</span>=<span class="string">"i in 12"</span> <span class="attr">:class</span>=<span class="string">"b('item')"</span> <span class="attr">:style</span>=<span class="string">"colorStyle"</span> <span class="attr">:key</span>=<span class="string">"i"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä»ä¸Šå¯çŸ¥ï¼Œæ¨¡æ¿ä»£ç éå¸¸ç®€å•ï¼Œå°±æ˜¯å¾ªç¯å‡ºäº†12ä¸ªå…ƒç´ åœ¨ä¸€ä¸ªå®¹å™¨ä¸­ï¼Œæ„æˆ <code>Spin</code> ç»„ä»¶çš„ä¸»ä½“ï¼Œé‡è¦çš„æ˜¯æ ·å¼çš„ç¼–å†™ï¼Œæˆ‘ä»¬ç»§ç»­å¾€ä¸‹èµ°ğŸ‘‡</p>
<h4 id="CSSä»£ç -é‡‡ç”¨stylusè¯­æ³•"><a href="#CSSä»£ç -é‡‡ç”¨stylusè¯­æ³•" class="headerlink" title="CSSä»£ç  (é‡‡ç”¨stylusè¯­æ³•)"></a>CSSä»£ç  (é‡‡ç”¨stylusè¯­æ³•)</h4><figure class="highlight styl"><table><tr><td class="code"><pre><span class="line">@keyframes spin-fade &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    opacity: .85</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50%</span> &#123;</span><br><span class="line">    opacity: .25</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    opacity: .25</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.spin</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative</span><br><span class="line">  <span class="attribute">display</span>: inline-block</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">40px</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">40px</span></span><br><span class="line">  &amp;__item &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute</span><br><span class="line">    <span class="attribute">left</span>: calc(<span class="number">50%</span> - <span class="number">1px</span>)</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">37.5%</span></span><br><span class="line">    <span class="attribute">width</span>: <span class="number">2px</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">25%</span></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span> / <span class="number">20%</span></span><br><span class="line">    opacity: .25</span><br><span class="line">    <span class="attribute">background-color</span>: currentColor</span><br><span class="line">    <span class="attribute">animation</span>: spin-fade <span class="number">1s</span> linear infinite</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> num <span class="keyword">in</span> (<span class="number">1</span>..<span class="number">12</span>) &#123;</span><br><span class="line">      &amp;:nth-child(&#123;num&#125;) &#123;</span><br><span class="line">        <span class="attribute">animation-delay</span>: ((num - <span class="number">1</span>) / <span class="number">12</span>) s</span><br><span class="line">        <span class="attribute">transform</span>: rotate(<span class="number">30deg</span> * (num - <span class="number">6</span>)) translateY(-<span class="number">150%</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é’ˆå¯¹ä¸Šè¿°æ ·å¼çš„è§£é‡Šï¼š</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªè¡Œå†…å—çš„çˆ¶å®¹å™¨ç›’å­ï¼Œè®¾ç½®ä¸ºç›¸å¯¹å®šä½</li>
<li>åˆ›å»º12ä¸ªç»å¯¹å®šä½çš„å­å…ƒç´ ï¼Œå¹¶è®¾ç½®å…¶é€æ˜åº¦ä¸º .25 ä¸ºåé¢åŠ¨ç”»æ‰“é“ºå«</li>
<li>ç»™æ¯ä¸ªå­å…ƒç´ çš„å››ä¸ªè§’è®¾ç½®æ°´å¹³åŠå¾„ä¸º50%ï¼Œå‚ç›´åŠå¾„ä¸º20%çš„åœ†è§’</li>
<li>ç»™æ¯ä¸ªå­å…ƒç´ è®¾ç½®å›ºå®šå®½åº¦2pxï¼Œé«˜åº¦ç›¸å¯¹çˆ¶å®¹å™¨è‡ªé€‚åº”ï¼ˆå çˆ¶å®¹å™¨çš„25%ï¼‰</li>
<li>é€šè¿‡ <code>top: 37.5%; left: calc(50% - 1px)</code> è®¾ç½®åˆå§‹å­å…ƒç´ ä¸ºå‚ç›´å±…ä¸­çš„</li>
<li>é€šè¿‡ <code>transform: rotate(30deg * (num - 6)) translateY(-150%)</code> è®©ç¬¬ä¸€ä¸ªå­å…ƒç´ æ—‹è½¬-150deg æ”¹å˜æ­£åå‘ï¼Œç„¶åå‘æ­£æ–¹å‘ç§»åŠ¨ï¼ˆå³å‘ä¸‹ï¼ˆå› ä¸ºæ”¹å˜äº†æ­£æ–¹å‘ï¼‰ï¼‰1.5ï¼ˆ37.5 / 25 = 1.5ï¼‰ä¸ªå­å…ƒç´ é«˜åº¦çš„è·ç¦»ï¼Œç¡®å®šç¬¬ä¸€ä¸ªå…ƒç´ çš„åˆå§‹ä½ç½®ï¼Œå…¶å®ƒ11ä¸ªå­å…ƒç´ æŒ‰åŒæ ·çš„è§„åˆ™è¿›è¡Œæ’å¸ƒï¼Œæœ€åå½¢æˆä¸€ä¸ªåœ†å½¢æ’å¸ƒ</li>
<li>æœ€åç»™å­å…ƒç´ è®¾ç½®åŠ¨ç”»ï¼Œæ§åˆ¶å­å…ƒç´ çš„é€æ˜åº¦ï¼Œä»¥ 1/12 s ä¸ºé—´éš”æ§åˆ¶é€æ˜åº¦çš„å˜åŒ–ï¼Œå½¢æˆè§†è§‰ä¸Šçš„è½¬åŠ¨ï¼ˆå…¶å®åªæ˜¯å­å…ƒç´ é€æ˜åº¦çš„å˜åŒ–ï¼‰</li>
</ol>
<p>ä¸‹é¢å‡ å¼ å›¾åˆ†è§£å…³é”®æ­¥éª¤è§£é‡Šï¼š</p>
<p><img src="/images/spin.png" alt="spin"><br><img src="/images/spin1.png" alt="spin1"><br><img src="/images/spin2.png" alt="spin2"></p>
<p><strong><em>é™„å½• âœ¨</em></strong></p>
<ul>
<li><a href="/2019/03/01/bem/">bå‡½æ•°</a>åˆ†æ</li>
<li><a href="https://loading.io/" target="_blank" rel="noopener">loading svg èµ„æºåœ°å€</a></li>
<li><a href="/2019/03/08/border-radius/">å¯¹border-radiusçš„è§£é‡Š</a></li>
</ul>
]]></content>
      <categories>
        <category>Vue</category>
        <category>ç»„ä»¶å¼€å‘</category>
        <category>Spin</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>ç»„ä»¶</tag>
        <tag>CSS3</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•ç”¨CSSæ‰‹ç»˜ä¸€ä¸ª5è§’æ˜Ÿï¼Ÿ</title>
    <url>/2019/03/12/star/</url>
    <content><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>å‰2å¤©å’ŒåŒäº‹èŠå¤©çš„æ—¶å€™ï¼Œè¢«é—®åˆ°å¦‚ä½•åˆ©ç”¨CSSæ‰‹ç»˜ä¸€ä¸ª 5è§’æ˜Ÿ å›¾å½¢ï¼Œç®€å•æ€è€ƒäº†ä¸‹ï¼Œæƒ³å‡ºäº†ä¸ªæ¯”è¾ƒç®€æ˜“çš„åŠæ³•ï¼Œè¯¦ç»†åˆ†æè§ä¸‹æ–‡</p>
<h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>æˆ‘ä»¬å…ˆæ¥è§‚å¯Ÿä¸‹5è§’æ˜Ÿï¼Œå‘ç°å®ƒæœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹å¾ï¼š</p>
<ol>
<li>æœ‰5ä¸ªè§’ï¼Œå¯¹åº”5ä¸ªä¸‰è§’å½¢</li>
<li>æ¯ä¸ªä¸‰è§’å½¢éƒ½æ˜¯ç­‰è¾¹ä¸‰è§’å½¢</li>
<li>æ¯ä¸ªä¸‰è§’å½¢ä¹‹é—´é—´éš”åŒæ ·çš„è§’åº¦ï¼Œå¹¶æŒ‰åœ†å½¢æ’åˆ—</li>
</ol>
<p>ç»“åˆä¸Šè¿°ç‰¹å¾ï¼Œå°±å¯ä»¥æŠŠé—®é¢˜è¿›è¡Œåˆ‡å‰²ï¼Œåˆ†è§£æˆä¸‹é¢å‡ æ­¥ï¼š</p>
<ol>
<li>åˆ›å»º5ä¸ªä¸€æ ·çš„ç­‰è¾¹ä¸‰è§’å½¢</li>
<li>æŠŠæ¯ä¸ªä¸‰è§’å½¢æŒ‰ï¼ˆ360Â°/5 = 72Â°ï¼‰è¿›è¡Œé—´éš”æ’åˆ—</li>
<li>ç»™æœ€åçš„ä¸­å¿ƒç©ºç™½åŒºåŸŸä½ç½®å¡«è‰²</li>
</ol>
<h3 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h3><h4 id="åˆ›å»ºä¸‰è§’å½¢"><a href="#åˆ›å»ºä¸‰è§’å½¢" class="headerlink" title="åˆ›å»ºä¸‰è§’å½¢"></a>åˆ›å»ºä¸‰è§’å½¢</h4><p>æˆ‘ä»¬åˆ©ç”¨ border æ³•ç”»ä¸‰è§’å½¢ï¼Œè¿›è¡Œä¸‰è§’å½¢ç»˜åˆ¶ä¹‹å‰ï¼Œå¾—å…ˆææ‡‚ä¸€ä¸ªå›¾ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><a href="/images/border.png">border</a></p>
<p>åˆ†æä¸Šå›¾ï¼Œè“è‰²ä¸‰è§’å½¢ï¼ˆbottomï¼‰å…¶å®ä»å®ƒçš„é¡¶ç‚¹å‚ç›´ä¸‹æ¥ä¸€æ¡çº¿ä¸ºå‡†ï¼Œå°†è“è‰²ä¸‰è§’å½¢åˆ†ä¸ºå·¦å³ä¸¤ä¸ªå°ä¸‰è§’å½¢ï¼Œå·¦è¾¹å°ä¸‰è§’å½¢åº•è¾¹å—leftå€¼å½±å“ï¼Œå³è¾¹å°ä¸‰è§’å½¢åº•è¾¹å—rightå€¼å½±å“ï¼Œå…¶å®ƒä¸‰è§’å½¢ä¹Ÿä¸€æ ·ã€‚</p>
<p>æ ¹æ®ä¸Šè¿°è§„åˆ™ï¼Œ æˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿å¾—åˆ°ä¸€ä¸ªè§’åº¦ä¸º60Â°çš„ç­‰è¾¹ä¸‰è§’å½¢ï¼š</p>
<ol>
<li>æŒ‡å®šbottom borderçš„å®½åº¦ï¼Œä¸¾ä¾‹æˆ‘ä»¬è®¾ä¸º100px</li>
<li>ç”±äºè¦åˆ›å»ºä¸€ä¸ª è§’åº¦ä¸ºæŒ‡å®šè§’åº¦ï¼ˆ60Â°ï¼‰çš„ç­‰è¾¹ä¸‰è§’å½¢ï¼Œæˆ‘ä»¬æŠŠä¸‰è§’å½¢å¯¹åˆ†ï¼Œæˆä¸º2ä¸ªç›´è§’ä¸‰è§’å½¢ï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬å°±æœ‰äº†ä¸€ä¸ªæŒ‡å®šä¸º 30Â°çš„è§’å’Œä¸€ä¸ªç»™å®šçš„bottom å€¼ï¼Œé€šè¿‡å‹¾è‚¡å®šç†å…¬å¼: <code>tan30Â°= X/(bottomå€¼)</code>ï¼Œå¾ˆå®¹æ˜“å¾—åˆ°Xçš„å€¼ï¼Œè¿™æ ·æˆ‘ä»¬å°±ç¡®å®šäº† left å’Œ right çš„å€¼ä¸º âˆš3/3*100px â‰ˆ 58px</li>
</ol>
<p>å…·ä½“çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="built_in">calc</span>(<span class="number">50%</span> - <span class="number">58px</span>);</span><br><span class="line">  <span class="attribute">top</span>: <span class="built_in">calc</span>(<span class="number">50%</span> - <span class="number">58px</span>);</span><br><span class="line">  <span class="attribute">border-style</span>: solid;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">0</span> <span class="number">58px</span> <span class="number">100px</span> <span class="number">58px</span>;</span><br><span class="line">  <span class="attribute">border-color</span>: red transparent currentcolor transparent;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="æŒ‰åœ†å½¢æ’åˆ—ä¸‰è§’å½¢"><a href="#æŒ‰åœ†å½¢æ’åˆ—ä¸‰è§’å½¢" class="headerlink" title="æŒ‰åœ†å½¢æ’åˆ—ä¸‰è§’å½¢"></a>æŒ‰åœ†å½¢æ’åˆ—ä¸‰è§’å½¢</h4><p>ä¸Šé¢æˆ‘ä»¬å¾—åˆ°äº†æˆ‘ä»¬æƒ³è¦çš„ä¸‰è§’å½¢ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æŠŠä»–ä»¬æŒ‰72Â°é—´éš”è¿›è¡Œæ’åˆ—ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹æ‰€ç¤º</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#div1</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">72deg</span>)  <span class="built_in">translateY</span>(-<span class="number">120%</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#div2</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">144deg</span>)  <span class="built_in">translateY</span>(-<span class="number">120%</span>) </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#div3</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>:  <span class="built_in">rotate</span>(<span class="number">216deg</span>) <span class="built_in">translateY</span>(-<span class="number">120%</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#div4</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">288deg</span>) <span class="built_in">translateY</span>(-<span class="number">120%</span>) </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#div5</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>) <span class="built_in">translateY</span>(-<span class="number">120%</span>) </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="å¡«å……å›¾å½¢ä¸­é—´ä½ç½®é¢œè‰²"><a href="#å¡«å……å›¾å½¢ä¸­é—´ä½ç½®é¢œè‰²" class="headerlink" title="å¡«å……å›¾å½¢ä¸­é—´ä½ç½®é¢œè‰²"></a>å¡«å……å›¾å½¢ä¸­é—´ä½ç½®é¢œè‰²</h4><p>å¤šä¸ªä¸‰è§’å½¢å›´åŸä¸€åœˆä¼šç»„æˆï¼Œä¸€ä¸ªç©ºç™½çš„åŒºåŸŸï¼Œæˆ‘ä»¬éœ€è¦æŠŠå®ƒå¡«å……ä¸ºä¸è¾¹æ¡†åŒæ ·çš„é¢œè‰²</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#fill</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">166px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">158px</span>;</span><br><span class="line">  <span class="attribute">border</span>: none;</span><br><span class="line">  <span class="attribute">left</span>: <span class="built_in">calc</span>(<span class="number">50%</span> - <span class="number">83px</span>);</span><br><span class="line">  <span class="attribute">top</span>: <span class="built_in">calc</span>(<span class="number">50%</span> - <span class="number">79px</span>);</span><br><span class="line">  <span class="attribute">background</span>: currentcolor;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ï¼š border å’Œ å¡«å……ä½“çš„é¢œè‰²éƒ½å– currentcolor</p>
</blockquote>
<h3 id="DEMO"><a href="#DEMO" class="headerlink" title="DEMO"></a>DEMO</h3><p>DEMOé“¾æ¥åœ°å€ï¼ˆå¯åœ¨çº¿æµ‹è¯•ï¼‰: <a href="https://codepen.io/shellWolf/pen/YgxOVm" target="_blank" rel="noopener">https://codepen.io/shellWolf/pen/YgxOVm</a></p>
<h3 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h3><p>å¢å¼ºè‡ªå·±çš„åˆ†è§£æ„è¯†ï¼Œè¿˜æœ‰æ›´å¥½çš„æ–¹æ³•ç­‰å¾…å»æ¢ç´¢ã€‚</p>
]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>css</tag>
        <tag>border</tag>
        <tag>ä¸‰è§’å½¢</tag>
        <tag>æ˜Ÿæ˜Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>Switch å¼€å…³ç»„ä»¶</title>
    <url>/2019/03/13/switch/</url>
    <content><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p><code>switch</code> ç»„ä»¶æ˜¯ä¸€ä¸ªå¾ˆå¸¸ç”¨çš„åŸºç¡€ç»„ä»¶ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/images/switch.png" alt="switch"></p>
<p>ä¸‹é¢æˆ‘ä»¬æ¥ä¸€èµ·å¼€å‘ä¸€ä¸ªè‡ªå®šä¹‰çš„ <code>switch</code> ç»„ä»¶å§</p>
<h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>å› ä¸º <code>switch</code> ç»„ä»¶æ˜¯ä¸€ä¸ªå¼€å…³ç»„ä»¶ï¼Œå®ƒçš„å¯æ“ä½œçŠ¶æ€å°±å’Œ checkbox ä¸€æ ·ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥åŸºäº <code>&lt;input type=&quot;checkbox&quot;&gt;</code> æ ‡ç­¾ä¸ºåŸºç¡€ï¼Œå¯¹å®ƒè¿›è¡Œæ”¹é€ å°è£…</p>
<h3 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h3><h4 id="ç»„ä»¶é€»è¾‘ä»£ç "><a href="#ç»„ä»¶é€»è¾‘ä»£ç " class="headerlink" title="ç»„ä»¶é€»è¾‘ä»£ç "></a>ç»„ä»¶é€»è¾‘ä»£ç </h4><p>æˆ‘ä»¬å¯ä»¥åœ¨ <code>switch</code> ç»„ä»¶ä¸Šåˆ›å»ºåŒå‘æ•°æ®ç»‘å®šï¼Œ å½“ç”¨æˆ·è§¦å‘ <code>input</code> å…ƒç´ çš„è¾“å…¥äº‹ä»¶æ—¶ï¼Œè‡ªåŠ¨æ›´æ–°åˆ° <code>switch</code> çš„æ•°æ®</p>
<blockquote>
<p>æ³¨æ„ï¼šå†…éƒ¨çš„ <code>input</code> å…ƒç´ çš„æ•°æ®ä¹Ÿæ˜¯åŒå‘ç»‘å®š</p>
</blockquote>
<p>å¤§è‡´æ“ä½œæµç¨‹å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<ol>
<li>åœ¨ computed çš„ get ä¸­ ç»™ <code>currentValue</code> èµ‹åˆå€¼</li>
<li>å½“ç”¨æˆ·è§¦å‘ input çš„ <code>chang</code> äº‹ä»¶æ—¶ï¼Œinput å…ƒç´ è‡ªåŠ¨æ›´æ–°æ•°æ®ï¼Œä¹Ÿå°±æ˜¯ä¸‹æ–‡çš„ <code>currentValue</code> å˜é‡ï¼Œ åŒæ—¶å‘é€ä¸€ä¸ªè‡ªå®šä¹‰çš„ <code>change</code> äº‹ä»¶ï¼Œåœä¾›ç»™å¤–ç•Œä½¿ç”¨</li>
<li>å½“ <code>currentValue</code> å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šè§¦å‘å®ƒ <code>setter</code> æ–¹æ³•ï¼Œæˆ‘ä»¬åœ¨ computed çš„ set ä¸­ å‘å°„é»˜è®¤çš„ <code>input</code> äº‹ä»¶</li>
<li>åœ¨çˆ¶ç»„ä»¶ä¸­ ç”¨ v-model è‡ªåŠ¨æ¥æ”¶ä¸Šä¸€æ­¥ å‘å°„äº‹ä»¶çš„å€¼ï¼Œæ›´æ–° <code>switch</code> ç»„ä»¶é€‰æ‹©çŠ¶æ€</li>
</ol>
<p>å…·ä½“ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div</span><br><span class="line">    :<span class="class"><span class="keyword">class</span></span>=<span class="string">"b()"</span></span><br><span class="line">  &gt;</span><br><span class="line">    &lt;input</span><br><span class="line">      :<span class="class"><span class="keyword">class</span></span>=<span class="string">"b('input', &#123; disabled &#125;)"</span></span><br><span class="line">      :disabled=<span class="string">"disabled"</span></span><br><span class="line">      v-model=<span class="string">"currentValue"</span></span><br><span class="line">      type=<span class="string">"checkbox"</span></span><br><span class="line">      @change=<span class="string">"onChange"</span></span><br><span class="line">    &gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">'switch'</span>,</span><br><span class="line"></span><br><span class="line">  props: &#123;</span><br><span class="line">    value: <span class="built_in">Boolean</span>,</span><br><span class="line">    disabled: <span class="built_in">Boolean</span>,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  computed: &#123;</span><br><span class="line">    currentValue: &#123;</span><br><span class="line">      <span class="keyword">get</span> () &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.value</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      <span class="keyword">set</span> (val) &#123;</span><br><span class="line">        <span class="keyword">this</span>.$emit(<span class="string">'input'</span>, val)</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  methods: &#123;</span><br><span class="line">    onChange () &#123;</span><br><span class="line">      <span class="keyword">this</span>.$nextTick(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.$emit(<span class="string">'change'</span>, <span class="keyword">this</span>.currentValue)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="ç»„ä»¶æ ·å¼ä»£ç "><a href="#ç»„ä»¶æ ·å¼ä»£ç " class="headerlink" title="ç»„ä»¶æ ·å¼ä»£ç "></a>ç»„ä»¶æ ·å¼ä»£ç </h4><figure class="highlight styl"><table><tr><td class="code"><pre><span class="line">.switch</span><br><span class="line">  <span class="attribute">position</span>: relative</span><br><span class="line">  <span class="attribute">display</span>: inline-flex</span><br><span class="line">  <span class="attribute">align-items</span>: center</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span></span><br><span class="line"></span><br><span class="line">  &amp;__input</span><br><span class="line">    <span class="attribute">display</span>: inline-block</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box</span><br><span class="line">    appearance: <span class="attribute">none</span></span><br><span class="line">    -webkit-appearance: <span class="attribute">none</span></span><br><span class="line">    <span class="attribute">outline</span>: none</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">52px</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">32px</span></span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#eee</span></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">32px</span></span><br><span class="line">    <span class="attribute">transition</span>: background-color <span class="number">0.1s</span>, border <span class="number">0.1s</span></span><br><span class="line">    &amp;--disabled</span><br><span class="line">      <span class="attribute">opacity</span>: <span class="number">0.4</span></span><br><span class="line">      <span class="attribute">pointer-events</span>: none</span><br><span class="line"></span><br><span class="line">    &amp;::before,</span><br><span class="line">    &amp;::after</span><br><span class="line">      <span class="attribute">content</span>: <span class="string">""</span></span><br><span class="line">      <span class="attribute">position</span>: absolute</span><br><span class="line">      <span class="attribute">border-radius</span>: <span class="number">16px</span></span><br><span class="line">      <span class="attribute">top</span>: <span class="number">0px</span></span><br><span class="line">      <span class="attribute">left</span>: <span class="number">0px</span></span><br><span class="line">      <span class="attribute">bottom</span>: <span class="number">0px</span></span><br><span class="line">      <span class="attribute">right</span>: <span class="number">0px</span></span><br><span class="line">      transition: transform .4s cubic-bezier(0.4, 0.4, 0.25, 1.35)</span><br><span class="line">      <span class="attribute">background</span>: <span class="number">#eee</span></span><br><span class="line"></span><br><span class="line">    &amp;::after</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">30px</span></span><br><span class="line">      <span class="attribute">height</span>: <span class="number">30px</span></span><br><span class="line">      <span class="attribute">border-radius</span>: <span class="number">15px</span></span><br><span class="line">      <span class="attribute">background</span>: <span class="number">#fff</span></span><br><span class="line">      box-shadow: 0 1px 3px rgba(0, 0, 0, .3)</span><br><span class="line">      <span class="attribute">margin-top</span>: <span class="number">1px</span></span><br><span class="line"></span><br><span class="line">    &amp;:checked</span><br><span class="line">      <span class="attribute">background</span>: <span class="number">#1f8ceb</span></span><br><span class="line">      &amp;::before</span><br><span class="line">        <span class="attribute">transform</span>: scale(<span class="number">0</span>)</span><br><span class="line">      &amp;::after</span><br><span class="line">        <span class="attribute">transform</span>: translateX(<span class="number">100%</span>  - <span class="number">30px</span>)</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç æœ‰ä»¥ä¸‹å‡ ç‚¹éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼š</p>
<p>1: è®¾ç½® <code>-webkit-appearance: none</code> å»é™¤ input çš„åŸå§‹å¤–è§‚<br>2: é€šè¿‡ before å’Œ after ä¼ªå…ƒç´  æ„é€  switchçš„åŠ¨ç”»å…ƒç´ <br>3: é€šè¿‡ <code>input:checked</code> é€‰æ‹©å™¨æ§åˆ¶å½“é€‰ä¸­æ—¶ï¼Œ before å’Œ after çš„å˜åŒ–ï¼Œé…åˆ <code>transition</code>å½¢æˆç‚¹å‡»çš„åŠ¨ç”»æ•ˆæœ</p>
<h4 id="DEMOå±•ç¤º"><a href="#DEMOå±•ç¤º" class="headerlink" title="DEMOå±•ç¤º"></a>DEMOå±•ç¤º</h4><p>ç‚¹å‡»ä¸‹æ–¹é“¾æ¥æŸ¥çœ‹ ğŸ‘‡ï¼š<br><a href="http://wechat.hand-china.com/hippius-ui/#/zh-CN/switch" target="_blank" rel="noopener">http://wechat.hand-china.com/hippius-ui/#/zh-CN/switch</a></p>
]]></content>
      <categories>
        <category>Vue</category>
        <category>ç»„ä»¶å¼€å‘</category>
        <category>Switch</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>ç»„ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title>Tabbar æ ‡ç­¾æ ç»„ä»¶</title>
    <url>/2019/03/14/tabbar/</url>
    <content><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>æ ‡ç­¾æ ç»„ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„å‘¢ï¼Ÿ çœ‹ä¸‹å›¾ï¼š</p>
<p><img src="/images/tabbar.png" alt="tabbar"></p>
<p>ä¸‹é¢æˆ‘å°†åˆ†æå¦‚ä½•å®ç°æ•ˆæœ</p>
<blockquote>
<p>æœ¬æ–‡å°†ä¸ä¼šç»™å‡ºå…·ä½“çš„ä»£ç å®ç°ï¼Œä½†æ˜¯ä¼šç»˜ç”»å‡ºè®¾è®¡æµç¨‹</p>
</blockquote>
<h3 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h3><h4 id="å¸ƒå±€"><a href="#å¸ƒå±€" class="headerlink" title="å¸ƒå±€"></a>å¸ƒå±€</h4><ol>
<li>é¦–å…ˆæˆ‘ä»¬æ¥è¯´è¯´å¸ƒå±€ï¼Œçˆ¶ç»„ä»¶å…¶å®åªæ˜¯ä¸€ä¸ªå®¹å™¨ç»„ä»¶ï¼Œæˆ‘ä»¬å¯¹å®ƒè¿›è¡Œflexå¸ƒå±€ï¼Œå¹¶ç”¨ flex = 1 æ ¹æ®å­å…ƒç´ ä¸ªæ•°ç­‰åˆ†å…¶å®½åº¦</li>
<li>å­ç»„ä»¶å†…éƒ¨æœ‰2ä¸ªå…ƒç´ ï¼Œä¸€ä¸ªå›¾æ ‡ï¼Œå¯¹åº”å›¾æ ‡ä¸‹æ–¹çš„æ–‡å­—ï¼ˆé™„åŠ åŠŸèƒ½å³ä¸Šè§’å¾½ç« ï¼Œè¿™ä¸ªä¸åšåˆ†æï¼‰ï¼ŒåŒæ ·ä¹Ÿé‡‡ç”¨flexå¸ƒå±€ï¼Œç„¶ååšå±…ä¸­å¤„ç†ï¼Œä¸è¿‡å…ƒç´ æ’åˆ—æ–¹å‘é€šè¿‡ <code>flex-flow: column</code> æ”¹å˜ä¸ºç«–æ’ï¼Œè¿™æ ·å¤§è‡´å¸ƒå±€ä¹Ÿå°±åŸºæœ¬å®Œæˆäº†</li>
</ol>
<h4 id="é€»è¾‘"><a href="#é€»è¾‘" class="headerlink" title="é€»è¾‘"></a>é€»è¾‘</h4><p>é€»è¾‘ä»£ç åˆ†æè§ä¸‹å›¾ï¼š</p>
<p><img src="/images/tabbar-logic.png" alt="tabbar-logic"></p>
<h3 id="DEMO"><a href="#DEMO" class="headerlink" title="DEMO"></a>DEMO</h3><p>ç‚¹å‡»ä¸‹é¢ğŸ‘‡é“¾æ¥å±•ç¤ºï¼š</p>
<p><a href="http://wechat.hand-china.com/hippius-ui/#/zh-CN/tab-bar" target="_blank" rel="noopener">http://wechat.hand-china.com/hippius-ui/#/zh-CN/tab-bar</a></p>
]]></content>
      <categories>
        <category>Vue</category>
        <category>ç»„ä»¶åˆ†æ</category>
        <category>Tabbar</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>ç»„ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title>é€šç”¨æ–¹æ³•æ”¶é›†</title>
    <url>/2019/03/01/util/</url>
    <content><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><div class="note info"><p>ä»¥ä¸‹æºä»£ç å¤§éƒ¨åˆ†æ”¶é›†äºå„ä¸ªå¼€æºåº“å’Œå…¬å¼€ä»£ç </p></div>
<hr>
<h4 id="å¸¸ç”¨è¾…åŠ©ç±»å‡½æ•°"><a href="#å¸¸ç”¨è¾…åŠ©ç±»å‡½æ•°" class="headerlink" title="# å¸¸ç”¨è¾…åŠ©ç±»å‡½æ•°"></a><a name="auxiliary" href="#auxiliary" style="border: none"><span style="color: #1ca5f2">#</span> å¸¸ç”¨è¾…åŠ©ç±»å‡½æ•°</a></h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isDef</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> value !== <span class="literal">undefined</span> &amp;&amp; value !== <span class="literal">null</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isObj</span> (<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> type = <span class="keyword">typeof</span> x</span><br><span class="line">  <span class="keyword">return</span> x !== <span class="literal">null</span> &amp;&amp; (type === <span class="string">'object'</span> || type === <span class="string">'function'</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isArray</span> (<span class="params">val</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(val) === <span class="string">'[object Array]'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†keba-case(çŸ­æ¨ªçº¿)çš„å˜é‡åè½¬æ¢ä¸ºcamelCase(é©¼å³°å¼)</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">camelize</span> (<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> str.replace(<span class="regexp">/-(\w)/g</span>, (_, c) =&gt; c.toUpperCase())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// èŒƒå›´é™åˆ¶ ,ç¡®ä¿å½“å‰å€¼åœ¨æœ€å¤§å€¼å’Œæœ€å°å€¼ä¹‹é—´</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">range</span> (<span class="params">num, min, max</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.min(<span class="built_in">Math</span>.max(num, min), max)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* eslint-disable */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isEmail</span>(<span class="params">value: string</span>): <span class="title">boolean</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> reg = <span class="regexp">/^((([a-z]|\d|[!#\$%&amp;'\*\+\-\/=\?\^_`&#123;\|&#125;~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&amp;'\*\+\-\/=\?\^_`&#123;\|&#125;~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i</span>;</span><br><span class="line">  <span class="keyword">return</span> reg.test(value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isMobile</span>(<span class="params">value: string</span>): <span class="title">boolean</span> </span>&#123;</span><br><span class="line">  value = value.replace(<span class="regexp">/[^-|\d]/g</span>, <span class="string">''</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="regexp">/^((\+86)|(86))?(1)\d&#123;10&#125;$/</span>.test(value) || <span class="regexp">/^0[0-9-]&#123;10,13&#125;$/</span>.test(value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isNumber</span>(<span class="params">value: string</span>): <span class="title">boolean</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="regexp">/^\d+$/</span>.test(value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Is image source</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">isSrc</span>(<span class="params">url: string</span>): <span class="title">boolean</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="regexp">/^(https?:)?\/\/|data:image/</span>.test(url);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="deepAssign"><a href="#deepAssign" class="headerlink" title="# deepAssign"></a><a name="deepAssign" href="#deepAssign" style="border: none"><span style="color: #1ca5f2">#</span> deepAssign</a></h4><p>å°†æ‰€æœ‰å¯æšä¸¾å±æ€§çš„å€¼ä»æºå¯¹è±¡å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ï¼Œè¿”å›ç›®æ ‡å¯¹è±¡</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; hasOwnProperty &#125; = <span class="built_in">Object</span>.prototype</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">assignKey</span> (<span class="params">to, from, key</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> val = <span class="keyword">from</span>[key]</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 1.å¦‚æœæºå¯¹è±¡çš„æŸä¸ªkeyå¯¹åº”çš„valueæ˜¯æœªå®šä¹‰çš„ï¼Œç›´æ¥è¿”å›</span></span><br><span class="line">  <span class="comment">// 2.å¦‚æœæºå¯¹è±¡çš„æŸä¸ªkeyå¯¹åº”çš„valueä¸æ˜¯æœªå®šä¹‰çš„ï¼Œä½†æ˜¯ç›®æ ‡å¯¹è±¡å¯¹åº”çš„keyçš„valueæœªå®šä¹‰ ç›´æ¥è¿”å›</span></span><br><span class="line">  <span class="keyword">if</span> (!isDef(val) || (hasOwnProperty.call(to, key) &amp;&amp; !isDef(to[key]))) &#123;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!hasOwnProperty.call(to, key) || !isObj(val)) &#123;</span><br><span class="line">    to[key] = val</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    to[key] = assign(<span class="built_in">Object</span>(to[key]), <span class="keyword">from</span>[key])</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">assign</span> (<span class="params">to, from</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> <span class="keyword">from</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (hasOwnProperty.call(<span class="keyword">from</span>, key)) &#123;</span><br><span class="line">      assignKey(to, <span class="keyword">from</span>, key)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> to</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„1âœ¨: è¯¥æ–¹æ³•ä¼šè·³è¿‡é‚£äº›å€¼ä¸º null æˆ– undefined çš„æºå¯¹è±¡å’Œç›®æ ‡å¯¹è±¡ï¼›è¯¥æ–¹æ³•å¯¹äºç›®æ ‡å¯¹è±¡ä¸­æ²¡æœ‰çš„keyä¼šç›´æ¥å¤åˆ¶æºå¯¹è±¡å¯¹åº”çš„keyå’Œvalueï¼Œä¸ä¼šå‘ç”Ÿæ·±æ‹·è´</p>
</blockquote>
<blockquote>
<p>æ³¨æ„2âœ¨: å½“Objectä»¥éæ„é€ å‡½æ•°å½¢å¼è¢«è°ƒç”¨æ—¶ï¼ŒObject() ç­‰åŒäº new Object()ï¼Œä¸»è¦ç”¨äºå¤„ç†ç»™å®šå€¼æ˜¯ null å’Œ undefinedÂ·æ—¶, åˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œå¦åˆ™ï¼Œå°†è¿”å›ä¸€ä¸ªä¸ç»™å®šå€¼å¯¹åº”ç±»å‹çš„å¯¹è±¡</p>
</blockquote>
<p><strong><em><a href="https://github.com/youzan/vant/blob/dev/packages/utils/deep-assign.ts" target="_blank" rel="noopener">ç‚¹å‡»æŸ¥çœ‹æœ€æ–°æºç </a></em></strong></p>
<h4 id="raf"><a href="#raf" class="headerlink" title="# raf"></a><a name="raf" href="#raf" style="border: none"><span style="color: #1ca5f2">#</span> raf</a></h4><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/requestAnimationFrame" target="_blank" rel="noopener">requestAnimationFrameå®˜æ–¹ä»‹ç»</a><br>ä¸‹é¢æ˜¯ requestAnimationFrameçš„ polyfill</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> prev = <span class="built_in">Date</span>.now()</span><br><span class="line"></span><br><span class="line"><span class="comment">/* istanbul ignore next */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fallback</span> (<span class="params">fn</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> curr = <span class="built_in">Date</span>.now()</span><br><span class="line">  <span class="keyword">const</span> ms = <span class="built_in">Math</span>.max(<span class="number">0</span>, <span class="number">16</span> - (curr - prev))</span><br><span class="line">  <span class="keyword">const</span> id = setTimeout(fn, ms)</span><br><span class="line">  prev = curr + ms</span><br><span class="line">  <span class="keyword">return</span> id</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* istanbul ignore next */</span></span><br><span class="line"><span class="keyword">const</span> root = Vue.prototype.$isServer ? global : <span class="built_in">window</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* istanbul ignore next */</span></span><br><span class="line"><span class="keyword">const</span> iRaf = root.requestAnimationFrame || root.webkitRequestAnimationFrame || fallback</span><br><span class="line"></span><br><span class="line"><span class="comment">/* istanbul ignore next */</span></span><br><span class="line"><span class="keyword">const</span> iCancel = root.cancelAnimationFrame || root.webkitCancelAnimationFrame || root.clearTimeout</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">raf</span> (<span class="params">fn</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> iRaf.call(root, fn)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">cancel</span> (<span class="params">id</span>) </span>&#123;</span><br><span class="line">  iCancel.call(root, id)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong><em><a href="https://github.com/youzan/vant/blob/dev/packages/utils/raf.ts" target="_blank" rel="noopener">ç‚¹å‡»æŸ¥çœ‹æœ€æ–°æºç </a></em></strong></p>
<h4 id="scroll"><a href="#scroll" class="headerlink" title="# scroll"></a><a name="scroll" href="#scroll" style="border: none"><span style="color: #1ca5f2">#</span> scroll</a></h4><p>è·å–htmlå…ƒç´ å¯¹åº”çš„ä¸€äº›ä½ç½®ä¿¡æ¯çš„å°è£…</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="comment">// get nearest scroll element</span></span><br><span class="line">  getScrollEventTarget (element, rootParent = <span class="built_in">window</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> currentNode = element</span><br><span class="line">    <span class="comment">// bugfix, see http://w3help.org/zh-cn/causes/SD9013 and http://stackoverflow.com/questions/17016740/onscroll-function-is-not-working-for-chrome</span></span><br><span class="line">    <span class="keyword">while</span> (currentNode &amp;&amp; currentNode.tagName !== <span class="string">'HTML'</span> &amp;&amp; currentNode.tagName !== <span class="string">'BODY'</span> &amp;&amp; currentNode.nodeType === <span class="number">1</span> &amp;&amp; currentNode !== rootParent) &#123;</span><br><span class="line">      <span class="keyword">const</span> overflowY = <span class="keyword">this</span>.getComputedStyle(currentNode).overflowY</span><br><span class="line">      <span class="keyword">if</span> (overflowY === <span class="string">'scroll'</span> || overflowY === <span class="string">'auto'</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> currentNode</span><br><span class="line">      &#125;</span><br><span class="line">      currentNode = currentNode.parentNode</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> rootParent</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  getScrollTop (element) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'scrollTop'</span> <span class="keyword">in</span> element ? element.scrollTop : element.pageYOffset</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  setScrollTop (element, value) &#123;</span><br><span class="line">    <span class="string">'scrollTop'</span> <span class="keyword">in</span> element ? element.scrollTop = value : element.scrollTo(element.scrollX, value)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// get distance from element top to page top</span></span><br><span class="line">  getElementTop (element) &#123;</span><br><span class="line">    <span class="keyword">return</span> (element === <span class="built_in">window</span> ? <span class="number">0</span> : element.getBoundingClientRect().top) + <span class="keyword">this</span>.getScrollTop(<span class="built_in">window</span>)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  getVisibleHeight (element) &#123;</span><br><span class="line">    <span class="keyword">return</span> element === <span class="built_in">window</span> ? element.innerHeight : element.getBoundingClientRect().height</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  getComputedStyle: !Vue.prototype.$isServer &amp;&amp; <span class="built_in">document</span>.defaultView.getComputedStyle.bind(<span class="built_in">document</span>.defaultView),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong><em><a href="https://github.com/youzan/vant/blob/dev/packages/utils/scroll.ts" target="_blank" rel="noopener">ç‚¹å‡»æŸ¥çœ‹æœ€æ–°æºç </a></em></strong></p>
]]></content>
      <categories>
        <category>Util</category>
        <category>å‡½æ•°</category>
      </categories>
      <tags>
        <tag>Util</tag>
      </tags>
  </entry>
  <entry>
    <title>Ripple æ°´æ³¢çº¹æ•ˆæœ</title>
    <url>/2019/03/05/wave/</url>
    <content><![CDATA[<h3 id="å£°æ˜"><a href="#å£°æ˜" class="headerlink" title="å£°æ˜"></a>å£°æ˜</h3><div class="note info"><p>ä»£ç å€Ÿé‰´äº† keen-ui å’Œ material-ui çš„å®ç°æ–¹å¼</p></div>
<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>åœ¨æ—¥å¸¸é¡¹ç›®ä¸­ï¼Œç»å¸¸ä¼šçœ‹åˆ°ç‚¹å‡»buttonæˆ–æŸä¸ªå…ƒç´ å—æ—¶ï¼Œæœ‰æ°´æ³¢çº¹æ•ˆæœï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/images/ripple.png" alt="ripple button"></p>
<p>ä¸‹é¢ï¼Œæˆ‘ä»¬å°†åˆ†æå¦‚ä½•å®ç°è¿™ä¸ªæ•ˆæœ</p>
<h3 id="è®¾è®¡"><a href="#è®¾è®¡" class="headerlink" title="è®¾è®¡"></a>è®¾è®¡</h3><p>å¸¸è§çš„æ³¢çº¹ç‚¹å‡»æ•ˆæœçš„å®ç°æ–¹å¼æ˜¯ç›‘å¬å…ƒç´ çš„ <code>mousedownã€</code> <code>mouseup</code> äº‹ä»¶ï¼ˆpcç«¯ï¼‰, <code>touchstart</code> <code>touchend</code> äº‹ä»¶ï¼ˆmobileç«¯ï¼‰ï¼Œå› ä¸ºmouseäº‹ä»¶å’Œtouchäº‹ä»¶æ—¶ä¼˜å…ˆäºclickäº‹ä»¶çš„ï¼Œå¹¶ä¸”æœ‰å¤šä¸ªå›è°ƒçŠ¶æ€ã€‚</p>
<p>é€šè¿‡ç›‘å¬ä¸Šè¿°äº‹ä»¶ï¼Œåœ¨å…ƒç´ å†…éƒ¨åˆ›å»ºä¸€ä¸ªæ³¢çº¹å…ƒç´ ï¼Œå¹¶è°ƒæ•´å…ƒç´ çš„ <code>transform</code> å’Œ <code>opacity</code> å±æ€§ï¼Œé€šè¿‡è®¡ç®—ç‚¹å‡»çš„ä½ç½®æ¥è®¾ç½®æ³¢çº¹å…ƒç´ çš„å¤§å°å’Œä½ç½®ï¼Œå·²è¾¾åˆ°æ³¢çº¹æ‰©æ•£çš„æ•ˆæœã€‚</p>
<p>æˆ‘ä»¬è®²ç»„ä»¶åˆ†ä¸º2ä¸ªéƒ¨åˆ†ï¼Œ<code>circleRipple</code> å­ç»„ä»¶ å’Œ <code>ripple</code> çˆ¶ç»„ä»¶ï¼š</p>
<ul>
<li><code>circleRipple</code> ä¸ºæ³¢çº¹æ‰©æ•£ç»„ä»¶ï¼Œç”± <code>transition</code> ç»„ä»¶åŒ…è£¹æ¥è®¾ç½®åŠ¨ç”»ï¼Œå®ç°æ³¢çº¹æ‰©æ•£æ•ˆæœ</li>
<li><code>ripple</code> çˆ¶ç»„ä»¶ï¼Œç›‘å¬ <code>mouse</code> å’Œ <code>touch</code> ç›¸å…³äº‹ä»¶æ¥æ§åˆ¶ <code>circleRipple</code> çš„ä½ç½®å’Œæ˜¾ç¤º</li>
</ul>
<h3 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h3><h4 id="CircleRipple"><a href="#CircleRipple" class="headerlink" title="CircleRipple"></a>CircleRipple</h4><p>åˆ©ç”¨ vue çš„ <code>transition</code> ç»„ä»¶çš„æ¥å®Œæˆ <code>circleRipple</code> çš„åŠ¨ç”»æ•ˆæœï¼Œä¹‹æ‰€ä»¥è®¾ç½®ä¸ºå­ç»„ä»¶ï¼Œå°±æ˜¯ä¸ºäº†æ–¹ä¾¿ä»å¤–éƒ¨é€šè¿‡ä¼ å‚æ¥æ§åˆ¶å®ƒçš„æ ·å¼ã€‚å®ç°ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;transition name=<span class="string">"ripple"</span>&gt;</span><br><span class="line">    &lt;div :<span class="class"><span class="keyword">class</span></span>=<span class="string">"b()"</span> :style=<span class="string">"styles"</span>/&gt;</span><br><span class="line">  &lt;<span class="regexp">/transition&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">'ripple-circle'</span>,</span><br><span class="line">  props: &#123;</span><br><span class="line">    styles: &#123;</span><br><span class="line">      type: <span class="built_in">Object</span>,</span><br><span class="line">      <span class="keyword">default</span> () &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;&#125;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ ·å¼ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">.ripple-circle</span><br><span class="line">  <span class="attribute">position</span>: absolute</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span></span><br><span class="line">  opacity: .1</span><br><span class="line">  <span class="attribute">background-color</span>: currentColor</span><br><span class="line">  <span class="attribute">background-clip</span>: padding-box</span><br><span class="line">  <span class="attribute">pointer-events</span>: none</span><br><span class="line">  user-select: <span class="attribute">none</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.ripple-enter-active</span>,</span><br><span class="line">.ripple-leave-active</span><br><span class="line">  <span class="attribute">transform</span>: translate(-<span class="number">50%</span>, -<span class="number">50%</span>) scale(<span class="number">1</span>)</span><br><span class="line">  <span class="attribute">transition</span>: opacity <span class="number">1s</span> ease-out, transform <span class="number">0.25s</span> ease-out</span><br><span class="line"></span><br><span class="line">.ripple-enter</span><br><span class="line">  <span class="attribute">transform</span>: translate(-<span class="number">50%</span>, -<span class="number">50%</span>) scale(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">.ripple-leave-to</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span> !important</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç ä¸­æœ‰2ä¸ªéœ€è¦æ³¨æ„çš„å±æ€§ï¼š</p>
<ol>
<li>è®¾ç½® <code>background-color: currentColor</code>, ä½¿ç”¨è¯¥å…³é”®å­—çš„å…ƒç´ çš„ï¼ˆæˆ–å…¶æœ€è¿‘çˆ¶å…ƒç´ ï¼‰colorå±æ€§çš„é¢œè‰²å€¼</li>
<li>è®¾ç½® <code>background-clip: padding-box</code>, ä½¿èƒŒæ™¯è¢«è£å‰ªåˆ°å†…è¾¹è·æ¡†ï¼Œä¸åŒ…å«border</li>
</ol>
<h4 id="Ripple"><a href="#Ripple" class="headerlink" title="Ripple"></a>Ripple</h4><p><code>Ripple</code> éœ€è¦æ§åˆ¶ <code>circleRipple</code> çš„æ˜¾ç¤ºï¼Œå¦‚æœé¢‘ç¹ç‚¹å‡»å¯èƒ½å‡ºç°å¤šä¸ª circleRipple</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div</span><br><span class="line">    :<span class="class"><span class="keyword">class</span></span>=<span class="string">"b()"</span></span><br><span class="line">    @contextmenu.prevent</span><br><span class="line">    @touchstart=<span class="string">"start"</span></span><br><span class="line">    @touchend=<span class="string">"end"</span></span><br><span class="line">    @touchcancel=<span class="string">"end"</span></span><br><span class="line">    @mousedown=<span class="string">"start"</span></span><br><span class="line">    @mouseup=<span class="string">"end"</span></span><br><span class="line">    @mouseleave=<span class="string">"end"</span></span><br><span class="line">  &gt;</span><br><span class="line">     &lt;!--å¤šä¸ªæ³¢çº¹ç”¨ v-<span class="keyword">for</span> æ§åˆ¶--&gt; </span><br><span class="line">    &lt;ripple-circle v-<span class="keyword">for</span>=<span class="string">"ripple in ripples"</span> :key=<span class="string">"ripple.key"</span> :styles=<span class="string">"ripple.style"</span>/&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> RippleCircle <span class="keyword">from</span> <span class="string">'./ripple-circle'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> hasTouchEvent = <span class="string">'ontouchstart'</span> <span class="keyword">in</span> <span class="built_in">document</span>.documentElement</span><br><span class="line"><span class="keyword">let</span> rippleKey = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">'ripple'</span>,</span><br><span class="line">  components: &#123;</span><br><span class="line">    RippleCircle,</span><br><span class="line">  &#125;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    rippleOpacity: &#123;</span><br><span class="line">      type: [<span class="built_in">Number</span>, <span class="built_in">String</span>],</span><br><span class="line">      <span class="keyword">default</span>: <span class="string">'0.15'</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    rippleColor: &#123;</span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="string">''</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      ripples: [],</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    start (e) &#123;</span><br><span class="line">      <span class="keyword">if</span> (hasTouchEvent &amp;&amp; !e.touches) <span class="keyword">return</span></span><br><span class="line">      <span class="keyword">const</span> ripple = &#123;</span><br><span class="line">        key: rippleKey++,</span><br><span class="line">        style: <span class="keyword">this</span>.__calcRippleStyle(e),</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// å¢åŠ ä¸€ä¸ªæ³¢çº¹å…ƒç´ åªéœ€è¦åœ¨ ripples æ•°ç»„ä¸­pushä¸€ä¸ª ripple å¯¹è±¡å³å¯</span></span><br><span class="line">      <span class="keyword">this</span>.ripples.push(ripple)</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    end (e) &#123;</span><br><span class="line">      <span class="keyword">if</span> ((hasTouchEvent &amp;&amp; !e.touches) || <span class="keyword">this</span>.ripples.length === <span class="number">0</span>)       <span class="keyword">return</span></span><br><span class="line">      <span class="comment">// åˆ é™¤æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªä¸€ä¸ªæ³¢çº¹å…ƒç´ </span></span><br><span class="line">      <span class="keyword">this</span>.ripples.splice(<span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¡ç®—æ³¢çº¹æ ·å¼å¹¶è¿”å›</span></span><br><span class="line">    __calcRippleStyle (e) &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; target &#125; = e</span><br><span class="line">      <span class="keyword">const</span> rect = target.getBoundingClientRect()</span><br><span class="line">      <span class="keyword">const</span> isTouchEvent = e.touches &amp;&amp; e.touches.length</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> pointerClientX = isTouchEvent ? <span class="built_in">Math</span>.floor(e.touches[<span class="number">0</span>].clientX) : e.clientX</span><br><span class="line">      <span class="keyword">const</span> pointerClientY = isTouchEvent ? <span class="built_in">Math</span>.floor(e.touches[<span class="number">0</span>].clientY) : e.clientY</span><br><span class="line"></span><br><span class="line">      <span class="comment">// è®¡ç®—ç‚¹å‡»ä½ç½®åœ¨å½“å‰ç‚¹å‡»å—ä¸­ï¼Œè·ç¦»ä¸Šä¸‹å·¦å³è¾¹æ¡†çš„è·ç¦»</span></span><br><span class="line">      <span class="keyword">const</span> left = pointerClientX - rect.left</span><br><span class="line">      <span class="keyword">const</span> top = pointerClientY - rect.top</span><br><span class="line">      <span class="keyword">const</span> right = rect.right - pointerClientX</span><br><span class="line">      <span class="keyword">const</span> bottom = rect.bottom - pointerClientY</span><br><span class="line"></span><br><span class="line">      <span class="comment">// è®¡ç®—ç‚¹å‡»ä½ç½®è·ç¦»å››å‘¨è¾¹æ¡†çš„å››ä¸ªæ–œè¾¹é•¿åº¦</span></span><br><span class="line">      <span class="keyword">const</span> leftTopDiagLen = <span class="keyword">this</span>.__calcDiagLen(left, top)</span><br><span class="line">      <span class="keyword">const</span> rightTopDiagLen = <span class="keyword">this</span>.__calcDiagLen(right, top)</span><br><span class="line">      <span class="keyword">const</span> leftBottomDiagLen = <span class="keyword">this</span>.__calcDiagLen(left, bottom)</span><br><span class="line">      <span class="keyword">const</span> rightBottomDiagLen = <span class="keyword">this</span>.__calcDiagLen(right, bottom)</span><br><span class="line"></span><br><span class="line">      <span class="comment">// è·å–ä¸Šé¢è®¡ç®—å››æ¡æ–œè¾¹çš„æœ€å¤§è¾¹å¹¶å‘ä¸Šå–æ•´ï¼Œå–å¾—ç»˜ç”»æ³¢çº¹çš„åŠå¾„</span></span><br><span class="line">      <span class="keyword">const</span> rippleCircleRadius = <span class="built_in">Math</span>.ceil(</span><br><span class="line">        <span class="built_in">Math</span>.max(</span><br><span class="line">          leftTopDiagLen,</span><br><span class="line">          rightTopDiagLen,</span><br><span class="line">          leftBottomDiagLen,</span><br><span class="line">          rightBottomDiagLen,</span><br><span class="line">        ),</span><br><span class="line">      )</span><br><span class="line">      <span class="keyword">const</span> rippleCircleDiameter = rippleCircleRadius * <span class="number">2</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">// ç¡®å®šæ³¢çº¹ç»˜åˆ¶çš„é¢œè‰²ã€é€æ˜åº¦ã€å¤§å°ã€ä½ç½®</span></span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        color: <span class="keyword">this</span>.rippleColor,</span><br><span class="line">        opacity: <span class="keyword">this</span>.rippleOpacity,</span><br><span class="line">        width: <span class="string">`<span class="subst">$&#123;rippleCircleDiameter&#125;</span>px`</span>,</span><br><span class="line">        height: <span class="string">`<span class="subst">$&#123;rippleCircleDiameter&#125;</span>px`</span>,</span><br><span class="line">        left: <span class="string">`<span class="subst">$&#123;left&#125;</span>px`</span>,</span><br><span class="line">        top: <span class="string">`<span class="subst">$&#123;top&#125;</span>px`</span>,</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¡ç®—æ–œè¾¹é•¿</span></span><br><span class="line">    __calcDiagLen (a, b) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">Math</span>.sqrt(a * a + b * b)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ï¼š@contextmenu.prevent è¡¨ç¤ºé¼ æ ‡å³å‡»æ—¶é˜»æ­¢æµè§ˆå™¨æ‰“å¼€é»˜è®¤çš„èœå•é€‰é¡¹</p>
</blockquote>
<p>é’ˆå¯¹ä¸Šè¿°ä»£ç çš„åˆ†æè§ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/images/ripple-circle.gif" alt="ripple-circle"></p>
<p>ğŸ‘‡ä¸‹é¢æœ‰ä¸€ä¸ªåœ¨çº¿çš„å¯æ“ä½œæ°´æ³¢çº¹ç¤ºä¾‹ï¼ˆå¤§å®¶å¯ä»¥ç‚¹å‡»äºµç©ï¼‰ï¼šğŸ‘‡<br><a href="https://codepen.io/shellWolf/pen/vPyQJX?editors=1100" target="_blank" rel="noopener">https://codepen.io/shellWolf/pen/vPyQJX?editors=1100</a></p>
<p>æ ·å¼ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight styl"><table><tr><td class="code"><pre><span class="line">.ripple</span><br><span class="line">  <span class="attribute">position</span>: absolute</span><br><span class="line">  <span class="attribute">overflow</span>: hidden</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span></span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">101%</span></span><br></pre></td></tr></table></figure>
<p>è¯¥ç»„ä»¶é€šå¸¸ä¸ <code>button</code> ã€ <code>cell</code> ç­‰ç»„ä»¶ç»“åˆä½¿ç”¨ã€‚</p>
<blockquote>
<p>ä½¿ç”¨æ³¨æ„äº‹é¡¹ï¼šç”±äº <code>Ripple</code> ç»„ä»¶å†…éƒ¨éƒ½æ˜¯ position:absolute å¸ƒå±€ï¼Œä½¿ç”¨æ—¶ï¼Œéœ€è¦åœ¨å¤–éƒ¨åŠ ä¸Š position:relative<br>âœ¨<strong><em>è¯·ç‚¹å‡»æŸ¥çœ‹ <a href="http://wechat.hand-china.com/hippius-ui/#/zh-CN/button" target="_blank" rel="noopener">DEMO</a> æ•ˆæœï¼ˆæ»šåŠ¨åˆ°æ°´æ³¢çº¹ç‚¹å‡»æ•ˆæœé‚£ä¸€æ ï¼‰</em></strong></p>
</blockquote>
<p><strong><em>é™„å½• âœ¨</em></strong></p>
<ul>
<li><a href="/2019/03/01/bem/">bå‡½æ•°</a>åˆ†æ</li>
<li><a href="https://blog.csdn.net/weixin_41342585/article/details/80659736" target="_blank" rel="noopener">clientX | pageX | â€¦</a> ç”¨æ³•</li>
<li><a href="https://www.cnblogs.com/Songyc/p/4458570.html" target="_blank" rel="noopener">getBoundingClientRect</a> ç”¨æ³•</li>
</ul>
]]></content>
      <categories>
        <category>Vue</category>
        <category>ç»„ä»¶å¼€å‘</category>
        <category>Ripple</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>ç»„ä»¶</tag>
      </tags>
  </entry>
</search>
